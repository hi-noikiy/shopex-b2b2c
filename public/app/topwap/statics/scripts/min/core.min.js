var Zepto=function(){function t(t){return null==t?String(t):W[X.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function o(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return N.call(t,function(t){return null!=t})}function c(t){return t.length>0?S.fn.concat.apply([],t):t}function u(t){return t&&t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in k?k[t]:k[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||Z[u(t)]?e:e+"px"}function h(t){var e,n;return A[t]||(e=_.createElement(t),_.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),A[t]=n),A[t]}function p(t){return"children"in t?O.call(t.children):S.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function d(t,e,n){for(E in e)n&&(o(e[E])||K(e[E]))?(o(e[E])&&!o(t[E])&&(t[E]={}),K(e[E])&&!K(t[E])&&(t[E]=[]),d(t[E],e[E],n)):e[E]!==w&&(t[E]=e[E])}function m(t,e){return null==e?S(t):S(t).filter(e)}function v(t,n,i,r){return e(n)?n.call(t,i,r):n}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className||"",i=n&&n.baseVal!==w;return e===w?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function b(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}function x(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)x(t.childNodes[n],e)}var w,E,S,j,T,C,P=[],O=P.slice,N=P.filter,_=window.document,A={},k={},Z={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,$=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,D=/^(?:body|html)$/i,F=/([A-Z])/g,z=["val","css","html","text","data","width","height","offset"],R=["after","prepend","before","append"],q=_.createElement("table"),V=_.createElement("tr"),B={tr:_.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:V,th:V,"*":_.createElement("div")},I=/complete|loaded|interactive/,H=/^[\w-]*$/,W={},X=W.toString,U={},J=_.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(t){return t instanceof Array};return U.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=J).appendChild(t),i=~U.qsa(r,e).indexOf(t),o&&J.removeChild(t),i},T=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},C=function(t){return N.call(t,function(e,n){return t.indexOf(e)==n})},U.fragment=function(t,e,n){var i,r,a;return M.test(t)&&(i=S(_.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace($,"<$1></$2>")),e===w&&(e=L.test(t)&&RegExp.$1),e in B||(e="*"),a=B[e],a.innerHTML=""+t,i=S.each(O.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(r=S(i),S.each(n,function(t,e){z.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},U.Z=function(t,e){return t=t||[],t.__proto__=S.fn,t.selector=e||"",t},U.isZ=function(t){return t instanceof U.Z},U.init=function(t,n){var i;if(!t)return U.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&L.test(t))i=U.fragment(t,RegExp.$1,n),t=null;else{if(n!==w)return S(n).find(t);i=U.qsa(_,t)}else{if(e(t))return S(_).ready(t);if(U.isZ(t))return t;if(K(t))i=s(t);else if(r(t))i=[t],t=null;else if(L.test(t))i=U.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==w)return S(n).find(t);i=U.qsa(_,t)}}return U.Z(i,t)},S=function(t,e){return U.init(t,e)},S.extend=function(t){var e,n=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},U.qsa=function(t,e){var n,r="#"==e[0],o=!r&&"."==e[0],a=r||o?e.slice(1):e,s=H.test(a);return i(t)&&s&&r?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:O.call(s&&!r?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},S.contains=_.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},S.type=t,S.isFunction=e,S.isWindow=n,S.isArray=K,S.isPlainObject=o,S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},S.inArray=function(t,e,n){return P.indexOf.call(e,t,n)},S.camelCase=T,S.trim=function(t){return null==t?"":String.prototype.trim.call(t)},S.uuid=0,S.support={},S.expr={},S.map=function(t,e){var n,i,r,o=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return c(o)},S.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},S.grep=function(t,e){return N.call(t,e)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()}),S.fn={forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,indexOf:P.indexOf,concat:P.concat,map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(O.apply(this,arguments))},ready:function(t){return I.test(_.readyState)&&_.body?t(S):_.addEventListener("DOMContentLoaded",function(){t(S)},!1),this},get:function(t){return t===w?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return P.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):S(N.call(this,function(e){return U.matches(e,t)}))},add:function(t,e){return S(C(this.concat(S(t,e))))},is:function(t){return this.length>0&&U.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==w)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):S(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return S(n)},has:function(t){return this.filter(function(){return r(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:S(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?S(t).filter(function(){var t=this;return P.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(U.qsa(this[0],t)):this.map(function(){return U.qsa(this,t)}):S()},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=S(t));n&&!(r?r.indexOf(n)>=0:U.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){if((t=t.parentNode)&&!i(t)&&e.indexOf(t)<0)return e.push(t),t});return m(e,t)},parent:function(t){return m(C(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return O.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return N.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=S(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=S(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;S(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(E in t)g(this,E,t[E]);else g(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:w},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){g(this,t)},this)})},prop:function(t,e){return t=Y[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(F,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?b(i):w},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=S(this),i=v(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof e)return r.style[T(e)]||i.getPropertyValue(e);if(K(e)){var o={};return S.each(e,function(t,e){o[e]=r.style[T(e)]||i.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=u(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(E in e)e[E]||0===e[E]?a+=u(E)+":"+f(E,e[E])+";":this.each(function(){this.style.removeProperty(u(E))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&P.some.call(this,function(t){return this.test(y(t))},l(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){j=[];var n=y(this),i=v(this,t,e,n);i.split(/\s+/g).forEach(function(t){S(this).hasClass(t)||j.push(t)},this),j.length&&y(this,n+(n?" ":"")+j.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===w)return y(this,"");j=y(this),v(this,t,e,j).split(/\s+/g).forEach(function(t){j=j.replace(l(t)," ")}),y(this,j.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=S(this),r=v(this,t,n,y(this));r.split(/\s+/g).forEach(function(t){(e===w?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=D.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(S(t).css("margin-top"))||0,n.left-=parseFloat(S(t).css("margin-left"))||0,i.top+=parseFloat(S(e[0]).css("border-top-width"))||0,i.left+=parseFloat(S(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||_.body;t&&!D.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(r){var o,a=this[0];return r===w?n(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=S(this),a.css(t,v(this,r,e,a[t]()))})}}),R.forEach(function(e,n){var i=n%2;S.fn[e]=function(){var e,r,o=S.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:U.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=S.contains(_.documentElement,r);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!r)return S(t).remove();r.insertBefore(t,e),s&&x(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},S.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return S(t)[e](this),this}}),U.Z.prototype=S.fn,U.uniq=C,U.deserializeValue=b,S.zepto=U,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t,e){var n=this.os={},i=this.browser={},r=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=t.match(/(Android);?[\s\/]+([\d.]+)?/),a=!!t.match(/\(Macintosh\; Intel /),s=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),f=/Win\d{2}|Windows/.test(e),h=t.match(/Windows Phone ([\d.]+)/),p=l&&t.match(/TouchPad/),d=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),v=t.match(/(BlackBerry).*Version\/([\d.]+)/),g=t.match(/(BB10).*Version\/([\d.]+)/),y=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=t.match(/PlayBook/),x=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),w=t.match(/Firefox\/([\d.]+)/),E=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),S=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),j=!x&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),T=j||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!r)&&(i.version=r[1]),o&&(n.android=!0,n.version=o[2]),u&&!c&&(n.ios=n.iphone=!0,n.version=u[2].replace(/_/g,".")),s&&(n.ios=n.ipad=!0,n.version=s[2].replace(/_/g,".")),c&&(n.ios=n.ipod=!0,n.version=c[3]?c[3].replace(/_/g,"."):null),h&&(n.wp=!0,n.version=h[1]),l&&(n.webos=!0,n.version=l[2]),p&&(n.touchpad=!0),v&&(n.blackberry=!0,n.version=v[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(i.playbook=!0),d&&(n.kindle=!0,n.version=d[1]),m&&(i.silk=!0,i.version=m[1]),!m&&n.android&&t.match(/Kindle Fire/)&&(i.silk=!0),x&&(i.chrome=!0,i.version=x[1]),w&&(i.firefox=!0,i.version=w[1]),E&&(n.firefoxos=!0,n.version=E[1]),S&&(i.ie=!0,i.version=S[1]),T&&(a||n.ios||f)&&(i.safari=!0,n.ios||(i.version=T[1])),j&&(i.webview=!0),n.tablet=!!(s||b||o&&!t.match(/Mobile/)||w&&t.match(/Tablet/)||S&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(o||u||l||v||g||x&&t.match(/Android/)||x&&t.match(/CriOS\/([\d.]+)/)||w&&t.match(/Mobile/)||S&&t.match(/Touch/)))}e.call(t,navigator.userAgent,navigator.platform),t.__detect=e}(Zepto),function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,a){if(n=i(n),n.ns)var s=r(n.ns);return(v[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||s.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in b||!!e}function a(t){return x[t]||y&&b[t]||t}function s(n,r,s,c,l,h,p){var d=e(n),m=v[d]||(v[d]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=i(e);r.fn=s,r.sel=l,r.e in x&&(s=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=h;var d=h||s;r.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=c;var e=d.apply(n,t._args==f?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(a(r.e),r.proxy,o(r,p))})}function c(t,i,r,s,c){var u=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,r,s).forEach(function(e){delete v[u][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,c))})})}function u(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(j,function(t,i){var r=n[t];e[t]=function(){return this[i]=w,r&&r.apply(n,arguments)},e[i]=E}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function l(t){var e,n={originalEvent:t};for(e in t)S.test(e)||t[e]===f||(n[e]=t[e]);return u(n,t)}var f,h=1,p=Array.prototype.slice,d=t.isFunction,m=function(t){return"string"==typeof t},v={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:s,remove:c},t.proxy=function(n,i){var r=2 in arguments&&p.call(arguments,2);if(d(n)){var o=function(){return n.apply(i,r?r.concat(p.call(arguments)):arguments)};return o._zid=e(n),o}if(m(i))return r?(r.unshift(n[i],n),t.proxy.apply(null,r)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var w=function(){return!0},E=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,j={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,o){var a,u,h=this;return e&&!m(e)?(t.each(e,function(t,e){h.on(t,n,i,e,o)}),h):(m(n)||d(r)||r===!1||(r=i,i=n,n=f),(d(i)||i===!1)&&(r=i,i=f),r===!1&&(r=E),h.each(function(f,h){o&&(a=function(t){return c(h,t.type,r),r.apply(this,arguments)}),n&&(u=function(e){var i,o=t(e.target).closest(n,h).get(0);if(o&&o!==h)return i=t.extend(l(e),{currentTarget:o,liveFired:h}),(a||r).apply(o,[i].concat(p.call(arguments,1)))}),s(h,e,r,i,n,u||a)}))},t.fn.off=function(e,n,i){var r=this;return e&&!m(e)?(t.each(e,function(t,e){r.off(t,n,e)}),r):(m(n)||d(i)||i===!1||(i=n,n=f),i===!1&&(i=E),r.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(a,s){r=l(m(e)?t.Event(e):e),r._args=i,r.target=s,t.each(n(s,e.type||e),function(t,e){if(o=e.proxy(r),r.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),u(n)}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function n(t,n,i,r){if(t.global)return e(n||y,i,r)}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;return e.beforeSend.call(i,t,e)!==!1&&n(e,i,"ajaxBeforeSend",[t,e])!==!1&&void n(e,i,"ajaxSend",[t,e])}function a(t,e,i,r){var o=i.context,a="success";i.success.call(o,t,a,e),r&&r.resolveWith(o,[t,a,e]),n(i,o,"ajaxSuccess",[e,i,t]),c(a,e,i)}function s(t,e,i,r,o){var a=r.context;r.error.call(a,i,e,t),o&&o.rejectWith(a,[i,e,t]),n(r,a,"ajaxError",[i,r,t||e]),c(e,i,r)}function c(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function u(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==S?"html":t==E?"json":x.test(t)?"script":w.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function p(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function d(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){o=t.type(c),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?e.add(c.name,c.value):"array"==o||!i&&"object"==o?d(e,c,i,n):e.add(n,c)})}var m,v,g=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,x=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,E="application/json",S="text/html",j=/^\s*$/,T=y.createElement("a");T.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,r,c=e.jsonpCallback,u=(t.isFunction(c)?c():c)||"jsonp"+ ++g,l=y.createElement("script"),f=window[u],h=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:h};return n&&n.promise(p),t(l).on("load error",function(o,c){clearTimeout(r),t(l).off().remove(),"error"!=o.type&&i?a(i[0],p,e,n):s(null,c||"error",p,e,n),window[u]=f,i&&t.isFunction(f)&&f(i[0]),f=i=void 0}),o(p,e)===!1?(h("abort"),p):(window[u]=function(){i=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),y.head.appendChild(l),e.timeout>0&&(r=setTimeout(function(){h("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,r=t.extend({},e||{}),c=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===r[m]&&(r[m]=t.ajaxSettings[m]);i(r),r.crossDomain||(n=y.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=T.protocol+"//"+T.host!=n.protocol+"//"+n.host),r.url||(r.url=window.location.toString()),h(r);var p=r.dataType,d=/\?.+=\?/.test(r.url);if(d&&(p="jsonp"),r.cache!==!1&&(e&&e.cache===!0||"script"!=p&&"jsonp"!=p)||(r.url=f(r.url,"_="+Date.now())),"jsonp"==p)return d||(r.url=f(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),t.ajaxJSONP(r,c);var g,b=r.accepts[p],x={},w=function(t,e){x[t.toLowerCase()]=[t,e]},E=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,S=r.xhr(),C=S.setRequestHeader;if(c&&c.promise(S),r.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",b||"*/*"),(b=r.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(b)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&w("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(v in r.headers)w(v,r.headers[v]);if(S.setRequestHeader=w,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=u,clearTimeout(g);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==E){p=p||l(r.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==p?(0,eval)(e):"xml"==p?e=S.responseXML:"json"==p&&(e=j.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?s(n,"parsererror",S,r,c):a(e,S,r,c)}else s(S.statusText||null,S.status?"error":"abort",S,r,c)}},o(S,r)===!1)return S.abort(),s(null,"abort",S,r,c),S;if(r.xhrFields)for(v in r.xhrFields)S[v]=r.xhrFields[v];var P=!("async"in r)||r.async;S.open(r.type,r.url,P,r.username,r.password);for(v in x)C.apply(S,x[v]);return r.timeout>0&&(g=setTimeout(function(){S.onreadystatechange=u,S.abort(),s(null,"timeout",S,r,c)},r.timeout)),S.send(r.data?r.data:null),S},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,a=e.split(/\s/),s=p(e,n,i),c=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(e){o.html(r?t("<div>").html(e.replace(b,"")).find(r):e),c&&c.apply(o,arguments)},t.ajax(s),this};var C=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(C(e)+"="+C(n))},d(i,e,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,o,a,s,c,u,l,f,h,p,d="",m={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(m,function(t,n){if(v.style[t+"TransitionProperty"]!==e)return d="-"+t.toLowerCase()+"-",r=n,!1}),o=d+"transform",y[a=d+"transition-property"]=y[s=d+"transition-duration"]=y[u=d+"transition-delay"]=y[c=d+"transition-timing-function"]=y[l=d+"animation-name"]=y[f=d+"animation-duration"]=y[p=d+"animation-delay"]=y[h=d+"animation-timing-function"]="",t.fx={off:r===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(i,r,d,m,v){var b,x,w,E={},S="",j=this,T=t.fx.transitionEnd,C=!1;if(r===e&&(r=t.fx.speeds._default/1e3),v===e&&(v=0),t.fx.off&&(r=0),"string"==typeof i)E[l]=i,E[f]=r+"s",E[p]=v+"s",E[h]=d||"linear",T=t.fx.animationEnd;else{x=[];for(b in i)g.test(b)?S+=b+"("+i[b]+") ":(E[b]=i[b],x.push(n(b)));S&&(E[o]=S,x.push(o)),r>0&&"object"==typeof i&&(E[a]=x.join(", "),E[s]=r+"s",E[u]=v+"s",E[c]=d||"linear")}return w=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(T,w)}else t(this).unbind(T,w);C=!0,t(this).css(y),m&&m.call(this)},r>0&&(this.bind(T,w),setTimeout(function(){C||w.call(j)},1e3*(r+v)+25)),this.size()&&this.get(0).clientLeft,this.css(E),r<=0&&setTimeout(function(){j.each(function(){w.call(this)})},0),this},v=null}(Zepto),function(t){function e(e,i){var c=e[s],u=c&&r[c];if(void 0===i)return u||n(e);if(u){if(i in u)return u[i];var l=a(i);if(l in u)return u[l]}return o.call(t(e),i)}function n(e,n,o){var c=e[s]||(e[s]=++t.uuid),u=r[c]||(r[c]=i(e));return void 0!==n&&(u[a(n)]=o),u}function i(e){var n={};return t.each(e.attributes||c,function(e,i){0==i.name.indexOf("data-")&&(n[a(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var r={},o=t.fn.data,a=t.camelCase,s=t.expando="Zepto"+ +new Date,c=[];t.fn.data=function(i,r){return void 0===r?t.isPlainObject(i)?this.each(function(e,r){t.each(i,function(t,e){n(r,t,e)})}):0 in this?e(this[0],i):void 0:this.each(function(){n(this,i,r)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[s],i=n&&r[n];i&&t.each(e||i,function(t){delete i[e?a(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(Zepto);
var shopex=function(t,e){var i=/complete|loaded|interactive/,s=/^#([\w-]+)$/,n=/^\.([\w-]+)$/,a=/^[\w-]+$/,o=/translate(?:3d)?\((.+?)\)/,r=/matrix(3d)?\((.+?)\)/,l=function(e,i){if(i=i||t,!e)return c();if("object"==typeof e)return l.isArrayLike(e)?c(l.slice.call(e),null):c([e],null);if("function"==typeof e)return l.ready(e);if("string"==typeof e)try{if(e=e.trim(),s.test(e)){var n=t.getElementById(RegExp.$1);return c(n?[n]:[])}return c(l.qsa(e,i),e)}catch(a){}return c()},c=function(t,e){return t=t||[],Object.setPrototypeOf(t,l.fn),t.selector=e||"",t};l.uuid=0,l.data={},l.extend=function(){var t,i,s,n,a,o,r=arguments[0]||{},c=1,h=arguments.length,p=!1;for("boolean"==typeof r&&(p=r,r=arguments[c]||{},c++),"object"==typeof r||l.isFunction(r)||(r={}),c===h&&(r=this,c--);c<h;c++)if(null!=(t=arguments[c]))for(i in t)s=r[i],n=t[i],r!==n&&(p&&n&&(l.isPlainObject(n)||(a=l.isArray(n)))?(a?(a=!1,o=s&&l.isArray(s)?s:[]):o=s&&l.isPlainObject(s)?s:{},r[i]=l.extend(p,o,n)):n!==e&&(r[i]=n));return r},l.noop=function(){},l.slice=[].slice,l.filter=[].filter,l.type=function(t){return null==t?String(t):h[{}.toString.call(t)]||"object"},l.isArray=Array.isArray||function(t){return t instanceof Array},l.isArrayLike=function(t){var e=!!t&&"length"in t&&t.length,i=l.type(t);return"function"!==i&&!l.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)},l.isWindow=function(t){return null!=t&&t===t.window},l.isObject=function(t){return"object"===l.type(t)},l.isPlainObject=function(t){return l.isObject(t)&&!l.isWindow(t)&&Object.getPrototypeOf(t)===Object.prototype},l.isEmptyObject=function(t){for(var i in t)if(i!==e)return!1;return!0},l.isFunction=function(t){return"function"===l.type(t)},l.qsa=function(e,i){return i=i||t,l.slice.call(n.test(e)?i.getElementsByClassName(RegExp.$1):a.test(e)?i.getElementsByTagName(e):i.querySelectorAll(e))},l.ready=function(e){return i.test(t.readyState)?e(l):t.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},l.buffer=function(t,e,i){function s(){n&&(n.cancel(),n=0),a=l.now(),t.apply(i||this,arguments),o=l.now()}var n,a=0,o=0,e=e||150;return l.extend(function(){!a||o>=a&&l.now()-o>e||o<a&&l.now()-a>8*e?s():(n&&n.cancel(),n=l.later(s,e,null,arguments))},{stop:function(){n&&(n.cancel(),n=0)}})},l.each=function(t,e,i){if(!t)return this;if("number"==typeof t.length)[].every.call(t,function(t,i){return e.call(t,i,t)!==!1});else for(var s in t)if(i){if(t.hasOwnProperty(s)&&e.call(t[s],s,t[s])===!1)return t}else if(e.call(t[s],s,t[s])===!1)return t;return this},l.focus=function(t){l.os.ios?setTimeout(function(){t.focus()},10):t.focus()},l.trigger=function(t,e,i){return t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0})),this},l.getStyles=function(t,e){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i.getPropertyValue(e)||i[e]:i},l.parseTranslate=function(t,e){var i=t.match(o||"");return i&&i[1]||(i=["","0,0,0"]),i=i[1].split(","),i={x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])},e&&i.hasOwnProperty(e)?i[e]:i},l.parseTranslateMatrix=function(t,e){var i=t.match(r),s=i&&i[1];i?(i=i[2].split(","),"3d"===s?i=i.slice(12,15):(i.push(0),i=i.slice(4,7))):i=[0,0,0];var n={x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])};return e&&n.hasOwnProperty(e)?n[e]:n},l.hooks={},l.addAction=function(t,e){var i=l.hooks[t];return i||(i=[]),e.index=e.index||1e3,i.push(e),i.sort(function(t,e){return t.index-e.index}),l.hooks[t]=i,l.hooks[t]},l.doAction=function(t,e){l.isFunction(e)?l.each(l.hooks[t],e):l.each(l.hooks[t],function(t,e){return!e.handle()})},l.later=function(t,e,i,s){e=e||0;var n,a,o=t,r=s;return"string"==typeof t&&(o=i[t]),n=function(){o.apply(i,l.isArray(r)?r:[r])},a=setTimeout(n,e),{id:a,cancel:function(){clearTimeout(a)}}},l.now=Date.now||function(){return+new Date};var h={};return l.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(t,e){h["[object "+e+"]"]=e.toLowerCase()}),window.JSON&&(l.parseJSON=JSON.parse),l.fn={each:function(t){return[].every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this}},"function"==typeof define&&define.amd&&define("shopex",[],function(){return l}),l}(document);!function(t,e){function i(i){this.os={};var s=[function(){var t=i.match(/(MicroMessenger)\/([\d\.]+)/i);return t&&(this.os.wechat={version:t[2].replace(/_/g,".")}),!1},function(){var t=i.match(/(Android);?[\s\/]+([\d.]+)?/);return t&&(this.os.android=!0,this.os.version=t[2],this.os.isBadAndroid=!/Chrome\/\d/.test(e.navigator.appVersion)),this.os.android===!0},function(){var t=i.match(/(iPhone\sOS)\s([\d_]+)/);if(t)this.os.ios=this.os.iphone=!0,this.os.version=t[2].replace(/_/g,".");else{var e=i.match(/(iPad).*OS\s([\d_]+)/);e&&(this.os.ios=this.os.ipad=!0,this.os.version=e[2].replace(/_/g,"."))}return this.os.ios===!0}];[].every.call(s,function(e){return!e.call(t)})}i.call(t,navigator.userAgent)}(shopex,window),function(t,e){function i(i){this.os=this.os||{};var s=i.match(/Html5Plus/i);s&&(this.os.plus=!0,t(function(){e.body.classList.add("shopex-plus")}),i.match(/StreamApp/i)&&(this.os.stream=!0,t(function(){e.body.classList.add("shopex-plus-stream")})))}i.call(t,navigator.userAgent)}(shopex,document),function(t){"ontouchstart"in window?(t.isTouchable=!0,t.EVENT_START="touchstart",t.EVENT_MOVE="touchmove",t.EVENT_END="touchend"):(t.isTouchable=!1,t.EVENT_START="mousedown",t.EVENT_MOVE="mousemove",t.EVENT_END="mouseup"),t.EVENT_CANCEL="touchcancel",t.EVENT_CLICK="click";var e=1,i={},s={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n=function(){return!0},a=function(){return!1},o=function(e,i){return e.detail?e.detail.currentTarget=i:e.detail={currentTarget:i},t.each(s,function(t,i){var s=e[t];e[t]=function(){return this[i]=n,s&&s.apply(e,arguments)},e[i]=a},!0),e},r=function(t){return t&&(t._mid||(t._mid=e++))},l={},c=function(e,s,n,a){return function(n){for(var a=i[e._mid][s],r=[],l=n.target,c={};l&&l!==document&&l!==e&&(!~["click","tap","doubletap","longtap","hold"].indexOf(s)||!l.disabled&&!l.classList.contains("shopex-disabled"));l=l.parentNode){var h={};t.each(a,function(i,s){c[i]||(c[i]=t.qsa(i,e)),c[i]&&~c[i].indexOf(l)&&(h[i]||(h[i]=s))},!0),t.isEmptyObject(h)||r.push({element:l,handlers:h})}c=null,n=o(n),t.each(r,function(e,i){l=i.element;var a=l.tagName;if("tap"===s&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&(n.preventDefault(),n.detail&&n.detail.gesture&&n.detail.gesture.preventDefault()),t.each(i.handlers,function(e,i){t.each(i,function(t,e){e.call(l,n)===!1&&(n.preventDefault(),n.stopPropagation())},!0)},!0),n.isPropagationStopped())return!1},!0)}},h=function(t,e){var i=l[r(t)],s=[];if(i){if(s=[],e){var n=function(t){return t.type===e};return i.filter(n)}s=i}return s},p=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;t.fn.on=function(e,s,n){return this.each(function(){var a=this;r(a),r(n);var o=!1,h=i[a._mid]||(i[a._mid]={}),u=h[e]||(h[e]={});t.isEmptyObject(u)&&(o=!0);var d=u[s]||(u[s]=[]);if(d.push(n),o){var f=l[r(a)];f||(f=[]);var v=c(a,e,s,n);f.push(v),v.i=f.length-1,v.type=e,l[r(a)]=f,a.addEventListener(e,v),"tap"===e&&a.addEventListener("click",function(t){if(t.target){var e=t.target.tagName;if(!p.test(e))if("A"===e){var i=t.target.href;i&&~i.indexOf("tel:")||t.preventDefault()}else t.preventDefault()}})}})},t.fn.off=function(e,s,n){return this.each(function(){var a=r(this);if(e)if(s)if(n){var o=i[a]&&i[a][e]&&i[a][e][s];t.each(o,function(t,e){if(r(e)===r(n))return o.splice(t,1),!1},!0)}else i[a]&&i[a][e]&&delete i[a][e][s];else i[a]&&delete i[a][e];else i[a]&&delete i[a];i[a]?i[a][e]&&!t.isEmptyObject(i[a][e])||h(this,e).forEach(function(t){this.removeEventListener(t.type,t),delete l[a][t.i]}.bind(this)):h(this).forEach(function(t){this.removeEventListener(t.type,t),delete l[a][t.i]}.bind(this))})}}(shopex),function(t,e,i){t.targets={},t.targetHandles=[],t.registerTarget=function(e){return e.index=e.index||1e3,t.targetHandles.push(e),t.targetHandles.sort(function(t,e){return t.index-e.index}),t.targetHandles},e.addEventListener(t.EVENT_START,function(e){for(var s=e.target,n={};s&&s!==i;s=s.parentNode){var a=!1;if(t.each(t.targetHandles,function(i,o){var r=o.name;a||n[r]||!o.hasOwnProperty("handle")?n[r]||o.isReset!==!1&&(t.targets[r]=!1):(t.targets[r]=o.handle(e,s),t.targets[r]&&(n[r]=!0,o.isContinue!==!0&&(a=!0)))}),a)break}}),e.addEventListener("click",function(e){for(var s=e.target,n=!1;s&&s!==i&&("A"!==s.tagName||(t.each(t.targetHandles,function(t,i){i.name;if(i.hasOwnProperty("handle")&&i.handle(e,s))return n=!0,e.preventDefault(),!1}),!n));s=s.parentNode);})}(shopex,window,document),function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t}}(),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("Events"),s=!0;for(var n in e)"bubbles"===n?s=!!e[n]:i[n]=e[n];return i.initEvent(t,s,!0),i}"undefined"==typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),Function.prototype.bind=Function.prototype.bind||function(t){var e=Array.prototype.splice.call(arguments,1),i=this,s=function(){var n=e.concat(Array.prototype.splice.call(arguments,0));return this instanceof s?void i.apply(this,n):i.apply(t,n)};return s.prototype=i.prototype,s},function(t){"classList"in t.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(i){var s=e.className.split(/\s+/),n=s.indexOf(i);t(s,n,i),e.className=s.join(" ")}}var e=this,i={add:t(function(t,e,i){~e||t.push(i)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,i){~e?t.splice(e,1):t.push(i)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(i,"length",{get:function(){return e.className.split(/\s+/).length}}),i}})}(document),function(t){if(!t.requestAnimationFrame){var e=0;t.requestAnimationFrame=t.webkitRequestAnimationFrame||function(i,s){var n=(new Date).getTime(),a=Math.max(0,16.7-(n-e)),o=t.setTimeout(function(){i(n+a)},a);return e=n+a,o},t.cancelAnimationFrame=t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||function(t){clearTimeout(t)}}}(window),function(t,e,i){if((t.os.android||t.os.ios)&&!e.FastClick){var s=function(t,e){return"LABEL"===e.tagName&&(e=e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("input")),!(!e||"radio"!==e.type&&"checkbox"!==e.type||e.disabled)&&e};t.registerTarget({name:i,index:40,handle:s,target:!1});var n=function(i){var s=t.targets.click;if(s){var n,a;document.activeElement&&document.activeElement!==s&&document.activeElement.blur(),a=i.detail.gesture.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,e,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,s.dispatchEvent(n),i.detail&&i.detail.gesture.preventDefault()}};e.addEventListener("tap",n),e.addEventListener("doubletap",n),e.addEventListener("click",function(e){if(t.targets.click&&!e.forwardedTouchEvent)return e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1},!0)}}(shopex,window,"click"),function(t,e){t(function(){if(t.os.ios){var i="shopex-focusin",s="shopex-bar-tab",n="shopex-bar-footer",a="shopex-bar-footer-secondary",o="shopex-bar-footer-secondary-tab";e.addEventListener("focusin",function(r){if(!(t.os.plus&&window.plus&&plus.webview.currentWebview().children().length>0)){var l=r.target;if(l.tagName&&("TEXTAREA"===l.tagName||"INPUT"===l.tagName&&("text"===l.type||"search"===l.type||"number"===l.type))){if(l.disabled||l.readOnly)return;e.body.classList.add(i);for(var c=!1;l&&l!==e;l=l.parentNode){var h=l.classList;if(h&&h.contains(s)||h.contains(n)||h.contains(a)||h.contains(o)){c=!0;break}}if(c){var p=e.body.scrollHeight,u=e.body.scrollLeft;setTimeout(function(){window.scrollTo(u,p)},20)}}}}),e.addEventListener("focusout",function(t){var s=e.body.classList;s.contains(i)&&(s.remove(i),setTimeout(function(){window.scrollTo(e.body.scrollLeft,e.body.scrollTop)},20))})}})}(shopex,document),function(t){t.namespace="shopex",t.classNamePrefix=t.namespace+"-",t.classSelectorPrefix="."+t.classNamePrefix,t.className=function(e){return t.classNamePrefix+e},t.classSelector=function(e){return e.replace(/\./g,t.classSelectorPrefix)},t.eventName=function(e,i){return e+(t.namespace?"."+t.namespace:"")+(i?"."+i:"")}}(shopex),function(t,e){t.gestures={session:{}},t.preventDefault=function(t){t.preventDefault()},t.stopPropagation=function(t){t.stopPropagation()},t.addGesture=function(e){return t.addAction("gestures",e)};var i=Math.round,s=Math.abs,n=Math.sqrt,a=(Math.atan,Math.atan2),o=function(t,e,i){i||(i=["x","y"]);var s=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return n(s*s+a*a)},r=function(t,e){if(t.length>=2&&e.length>=2){var i=["pageX","pageY"];return o(e[1],e[0],i)/o(t[1],t[0],i)}return 1},l=function(t,e,i){i||(i=["x","y"]);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*a(n,s)/Math.PI},c=function(t,e){return t===e?"":s(t)>=s(e)?t>0?"left":"right":e>0?"up":"down"},h=function(t,e){var i=["pageX","pageY"];return l(e[1],e[0],i)-l(t[1],t[0],i)},p=function(t,e,i){return{x:e/t||0,y:i/t||0}},u=function(e,i){t.gestures.stoped||t.doAction("gestures",function(s,n){t.gestures.stoped||t.options.gestureConfig[n.name]!==!1&&n.handle(e,i)})},d=function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},f=function(t,e,i){for(var s=[],n=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];n.indexOf(o)<0&&s.push(t[a]),n[a]=o,a++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s},v=function(t){var e=t.length;if(1===e)return{x:i(t[0].pageX),y:i(t[0].pageY)};for(var s=0,n=0,a=0;a<e;)s+=t[a].pageX,n+=t[a].pageY,a++;return{x:i(s/e),y:i(n/e)}},g=function(){return t.options.gestureConfig.pinch},m=function(e){for(var s=[],n=0;n<e.touches.length;)s[n]={pageX:i(e.touches[n].pageX),pageY:i(e.touches[n].pageY)},n++;return{timestamp:t.now(),gesture:e.gesture,touches:s,center:v(e.touches),deltaX:e.deltaX,deltaY:e.deltaY}},b=function(e){var i=t.gestures.session,s=e.center,n=i.offsetDelta||{},a=i.prevDelta||{},o=i.prevTouch||{};e.gesture.type!==t.EVENT_START&&e.gesture.type!==t.EVENT_END||(a=i.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=i.offsetDelta={x:s.x,y:s.y}),e.deltaX=a.x+(s.x-n.x),e.deltaY=a.y+(s.y-n.y)},w=function(e){var i=t.gestures.session,s=e.touches,n=s.length;i.firstTouch||(i.firstTouch=m(e)),g()&&n>1&&!i.firstMultiTouch?i.firstMultiTouch=m(e):1===n&&(i.firstMultiTouch=!1);var a=i.firstTouch,p=i.firstMultiTouch,u=p?p.center:a.center,d=e.center=v(s);e.timestamp=t.now(),e.deltaTime=e.timestamp-a.timestamp,e.angle=l(u,d),e.distance=o(u,d),b(e),e.offsetDirection=c(e.deltaX,e.deltaY),e.scale=p?r(p.touches,s):1,e.rotation=p?h(p.touches,s):0,x(e)},y=25,x=function(e){var i,n,a,o,r=t.gestures.session,l=r.lastInterval||e,h=e.timestamp-l.timestamp;if(e.gesture.type!=t.EVENT_CANCEL&&(h>y||void 0===l.velocity)){var u=l.deltaX-e.deltaX,d=l.deltaY-e.deltaY,f=p(h,u,d);n=f.x,a=f.y,i=s(f.x)>s(f.y)?f.x:f.y,o=c(u,d)||l.direction,r.lastInterval=e}else i=l.velocity,n=l.velocityX,a=l.velocityY,o=l.direction;e.velocity=i,e.velocityX=n,e.velocityY=a,e.direction=o},L={},T=function(t){for(var e=0;e<t.length;e++)!t.identifier&&(t.identifier=0);return t},E=function(e,i){var s=T(t.slice.call(e.touches||[e])),n=e.type,a=[],o=[];if(n!==t.EVENT_START&&n!==t.EVENT_MOVE||1!==s.length){var r=0,a=[],o=[],l=T(t.slice.call(e.changedTouches||[e]));i.target=e.target;var c=t.gestures.session.target||e.target;if(a=s.filter(function(t){return d(t.target,c)}),n===t.EVENT_START)for(r=0;r<a.length;)L[a[r].identifier]=!0,r++;for(r=0;r<l.length;)L[l[r].identifier]&&o.push(l[r]),n!==t.EVENT_END&&n!==t.EVENT_CANCEL||delete L[l[r].identifier],r++;if(!o.length)return!1}else L[s[0].identifier]=!0,a=s,o=s,i.target=e.target;a=f(a.concat(o),"identifier",!0);var h=a.length,p=o.length;return n===t.EVENT_START&&h-p===0&&(i.isFirst=!0,t.gestures.touch=t.gestures.session={target:e.target}),i.isFinal=(n===t.EVENT_END||n===t.EVENT_CANCEL)&&h-p===0,i.touches=a,i.changedTouches=o,!0},N=function(e){var i={gesture:e},s=E(e,i);s&&(w(i),u(e,i),t.gestures.session.prevTouch=i,e.type!==t.EVENT_END||t.isTouchable||(t.gestures.touch=t.gestures.session={}))};e.addEventListener(t.EVENT_START,N),e.addEventListener(t.EVENT_MOVE,N),e.addEventListener(t.EVENT_END,N),e.addEventListener(t.EVENT_CANCEL,N),e.addEventListener(t.EVENT_CLICK,function(e){(t.os.android||t.os.ios)&&(t.targets.popover&&e.target===t.targets.popover||t.targets.tab||t.targets.offcanvas||t.targets.modal)&&e.preventDefault()},!0),t.isScrolling=!1;var S=null;e.addEventListener("scroll",function(){t.isScrolling=!0,S&&clearTimeout(S),S=setTimeout(function(){t.isScrolling=!1},250)})}(shopex,window),function(t,e){var i=0,s=function(s,n){var a=t.gestures.session,o=this.options,r=t.now();switch(s.type){case t.EVENT_MOVE:r-i>300&&(i=r,a.flickStart=n.center);break;case t.EVENT_END:case t.EVENT_CANCEL:n.flick=!1,a.flickStart&&o.flickMaxTime>r-i&&n.distance>o.flickMinDistince&&(n.flick=!0,n.flickTime=r-i,n.flickDistanceX=n.center.x-a.flickStart.x,n.flickDistanceY=n.center.y-a.flickStart.y,t.trigger(a.target,e,n),t.trigger(a.target,e+n.direction,n))}};t.addGesture({name:e,index:5,handle:s,options:{flickMaxTime:200,flickMinDistince:10}})}(shopex,"flick"),function(t,e){var i=function(i,s){var n=t.gestures.session;if(i.type===t.EVENT_END||i.type===t.EVENT_CANCEL){var a=this.options;s.swipe=!1,s.direction&&a.swipeMaxTime>s.deltaTime&&s.distance>a.swipeMinDistince&&(s.swipe=!0,t.trigger(n.target,e,s),t.trigger(n.target,e+s.direction,s))}};t.addGesture({name:e,index:10,handle:i,options:{swipeMaxTime:300,swipeMinDistince:18}})}(shopex,"swipe"),function(t,e){var i=function(i,s){var n=t.gestures.session;switch(i.type){case t.EVENT_START:break;case t.EVENT_MOVE:if(!s.direction||!n.target)return;n.lockDirection&&n.startDirection&&n.startDirection&&n.startDirection!==s.direction&&("up"===n.startDirection||"down"===n.startDirection?s.direction=s.deltaY<0?"up":"down":s.direction=s.deltaX<0?"left":"right"),n.drag||(n.drag=!0,t.trigger(n.target,e+"start",s)),t.trigger(n.target,e,s),t.trigger(n.target,e+s.direction,s);break;case t.EVENT_END:case t.EVENT_CANCEL:n.drag&&s.isFinal&&t.trigger(n.target,e+"end",s)}};t.addGesture({name:e,index:20,handle:i,options:{fingers:1}})}(shopex,"drag"),function(t,e){var i,s,n=function(n,a){var o=t.gestures.session,r=this.options;switch(n.type){case t.EVENT_END:if(!a.isFinal)return;var l=o.target;if(!l||l.disabled||l.classList&&l.classList.contains("shopex-disabled"))return;if(a.distance<r.tapMaxDistance&&a.deltaTime<r.tapMaxTime){if(t.options.gestureConfig.doubletap&&i&&i===l&&s&&a.timestamp-s<r.tapMaxInterval)return t.trigger(l,"doubletap",a),s=t.now(),void(i=l);t.trigger(l,e,a),s=t.now(),i=l}}};t.addGesture({name:e,index:30,handle:n,options:{fingers:1,tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})}(shopex,"tap"),function(t,e){var i,s=function(s,n){var a=t.gestures.session,o=this.options;switch(s.type){case t.EVENT_START:clearTimeout(i),i=setTimeout(function(){t.trigger(a.target,e,n)},o.holdTimeout);break;case t.EVENT_MOVE:n.distance>o.holdThreshold&&clearTimeout(i);break;case t.EVENT_END:case t.EVENT_CANCEL:clearTimeout(i)}};t.addGesture({name:e,index:10,handle:s,options:{fingers:1,holdTimeout:500,holdThreshold:2}})}(shopex,"longtap"),function(t,e){var i,s=function(s,n){var a=t.gestures.session,o=this.options;switch(s.type){case t.EVENT_START:t.options.gestureConfig.hold&&(i&&clearTimeout(i),i=setTimeout(function(){n.hold=!0,t.trigger(a.target,e,n)},o.holdTimeout));break;case t.EVENT_MOVE:break;case t.EVENT_END:case t.EVENT_CANCEL:i&&(clearTimeout(i)&&(i=null),t.trigger(a.target,"release",n))}};t.addGesture({name:e,index:10,handle:s,options:{fingers:1,holdTimeout:0}})}(shopex,"hold"),function(t,e){var i=function(i,s){var n=this.options,a=t.gestures.session;switch(i.type){case t.EVENT_START:break;case t.EVENT_MOVE:if(t.options.gestureConfig.pinch){if(s.touches.length<2)return;a.pinch||(a.pinch=!0,t.trigger(a.target,e+"start",s)),t.trigger(a.target,e,s);var o=s.scale,r=s.rotation,l="undefined"==typeof s.lastScale?1:s.lastScale,c=1e-12;o>l?(l=o-c,t.trigger(a.target,e+"out",s)):o<l&&(l=o+c,t.trigger(a.target,e+"in",s)),Math.abs(r)>n.minRotationAngle&&t.trigger(a.target,"rotate",s)}break;case t.EVENT_END:case t.EVENT_CANCEL:t.options.gestureConfig.pinch&&a.pinch&&2===s.touches.length&&(a.pinch=!1,t.trigger(a.target,e+"end",s))}};t.addGesture({name:e,index:10,handle:i,options:{minRotationAngle:0}})}(shopex,"pinch"),function(t){function e(t,e){var i="SHOPEX_SCROLL_POSITION_"+document.location.href+"_"+e.src,s=parseFloat(localStorage.getItem(i))||0;s&&!function(t){e.onload=function(){window.scrollTo(0,t)}}(s),setInterval(function(){var t=window.scrollY;s!==t&&(localStorage.setItem(i,t+""),s=t)},100)}t.global=t.options={gestureConfig:{tap:!0,doubletap:!1,longtap:!1,hold:!1,flick:!0,swipe:!0,drag:!0,pinch:!1}},t.initGlobal=function(e){return t.options=t.extend(!0,t.global,e),this};var i={},s=!1;t.init=function(e){return s=!0,t.options=t.extend(!0,t.global,e||{}),t.ready(function(){t.doAction("inits",function(e,s){var n=!(i[s.name]&&!s.repeat);n&&(s.handle.call(t),i[s.name]=!0)})}),this},t.addInit=function(e){return t.addAction("inits",e)},t.addInit({name:"iframe",index:100,handle:function(){var e=t.options,i=e.subpages||[];!t.os.plus&&i.length&&n(i[0])}});var n=function(i){var s=document.createElement("div");s.className="shopex-iframe-wrapper";var n=i.styles||{};"string"!=typeof n.top&&(n.top="0px"),"string"!=typeof n.bottom&&(n.bottom="0px"),s.style.top=n.top,s.style.bottom=n.bottom;var a=document.createElement("iframe");a.src=i.url,a.id=i.id||i.url,a.name=a.id,s.appendChild(a),document.body.appendChild(s),t.os.wechat&&e(s,a)};t(function(){var e=document.body.classList,i=[];t.os.ios?(i.push({os:"ios",version:t.os.version}),e.add("shopex-ios")):t.os.android&&(i.push({os:"android",version:t.os.version}),e.add("shopex-android")),t.os.wechat&&(i.push({os:"wechat",version:t.os.wechat.version}),e.add("shopex-wechat")),i.length&&t.each(i,function(i,s){var n="";s.version&&t.each(s.version.split("."),function(i,a){n=n+(n?"-":"")+a,e.add(t.className(s.os+"-"+n))})})})}(shopex),function(t){var e={swipeBack:!1,preloadPages:[],preloadLimit:10,keyEventBind:{backbutton:!0,menubutton:!0}},i={autoShow:!0,duration:t.os.ios?200:100,aniShow:"slide-in-right"};t.options.show&&(i=t.extend(!0,i,t.options.show)),t.currentWebview=null,t.isHomePage=!1,t.extend(!0,t.global,e),t.extend(!0,t.options,e),t.waitingOptions=function(e){return t.extend(!0,{},{autoShow:!0,title:""},e)},t.showOptions=function(e){return t.extend(!0,{},i,e)},t.windowOptions=function(e){return t.extend({scalable:!1,bounce:""},e)},t.plusReady=function(t){return window.plus?setTimeout(function(){t()},0):document.addEventListener("plusready",function(){t()},!1),this},t.fire=function(e,i,s){e&&(""!==s&&(s=s||{},t.isPlainObject(s)&&(s=JSON.stringify(s||{}).replace(/\'/g,"\\u0027").replace(/\\/g,"\\u005c"))),e.evalJS("typeof shopex!=='undefined'&&shopex.receive('"+i+"','"+s+"')"))},t.receive=function(e,i){if(e){try{i&&(i=JSON.parse(i))}catch(s){}t.trigger(document,e,i)}};var s=function(e){if(!e.preloaded){t.fire(e,"preload");for(var i=e.children(),s=0;s<i.length;s++)t.fire(i[s],"preload");e.preloaded=!0}},n=function(e,i,s){if(s){if(!e[i+"ed"]){t.fire(e,i);for(var n=e.children(),a=0;a<n.length;a++)t.fire(n[a],i);e[i+"ed"]=!0}}else{t.fire(e,i);for(var n=e.children(),a=0;a<n.length;a++)t.fire(n[a],i)}};t.openWindow=function(e,i,a){if("object"==typeof e?(a=e,e=a.url,i=a.id||e):"object"==typeof i?(a=i,i=e):i=i||e,!t.os.plus)return void(t.os.ios||t.os.android?window.top.location.href=e:window.parent.location.href=e);if(window.plus){a=a||{};var o,r,l=a.params||{},c=null,h=null;if(t.webviews[i]&&(h=t.webviews[i],plus.webview.getWebviewById(i)&&(c=h.webview)),h&&c)return o=h.show,o=a.show?t.extend(o,a.show):o,c.show(o.aniShow,o.duration,function(){s(c),n(c,"pagebeforeshow",!1)}),h.afterShowMethodName&&c.evalJS(h.afterShowMethodName+"('"+JSON.stringify(l)+"')"),c;if(a.createNew!==!0){if(c=plus.webview.getWebviewById(i))return o=t.showOptions(a.show),o.autoShow&&c.show(o.aniShow,o.duration,function(){s(c),n(c,"pagebeforeshow",!1)}),c;if(!e)throw new Error("webview["+i+"] does not exist")}var p=t.waitingOptions(a.waiting);if(p.autoShow&&(r=plus.nativeUI.showWaiting(p.title,p.options)),a=t.extend(a,{id:i,url:e}),c=t.createWindow(a),o=t.showOptions(a.show),o.autoShow){var u=function(){r&&r.close(),c.show(o.aniShow,o.duration,function(){s(c),n(c,"pagebeforeshow",!1)}),c.showed=!0,a.afterShowMethodName&&c.evalJS(a.afterShowMethodName+"('"+JSON.stringify(l)+"')")};e?c.addEventListener("loaded",u,!1):u()}return c}},t.createWindow=function(e,i){if(window.plus){var s,n=e.id||e.url;if(e.preload){t.webviews[n]&&t.webviews[n].webview.getURL()?s=t.webviews[n].webview:(e.createNew!==!0&&(s=plus.webview.getWebviewById(n)),s||(s=plus.webview.create(e.url,n,t.windowOptions(e.styles),t.extend({preload:!0},e.extras)),e.subpages&&t.each(e.subpages,function(e,i){var n=i.id||i.url;if(n){var a=plus.webview.getWebviewById(n);a||(a=plus.webview.create(i.url,n,t.windowOptions(i.styles),t.extend({preload:!0},i.extras))),s.append(a)}}))),t.webviews[n]={webview:s,preload:!0,show:t.showOptions(e.show),afterShowMethodName:e.afterShowMethodName};var a=t.data.preloads,o=a.indexOf(n);if(~o&&a.splice(o,1),a.push(n),a.length>t.options.preloadLimit){var r=t.data.preloads.shift(),l=t.webviews[r];l&&l.webview&&t.closeAll(l.webview),delete t.webviews[r]}}else i!==!1&&(s=plus.webview.create(e.url,n,t.windowOptions(e.styles),e.extras),e.subpages&&t.each(e.subpages,function(e,i){var n=i.id||i.url,a=plus.webview.getWebviewById(n);a||(a=plus.webview.create(i.url,n,t.windowOptions(i.styles),i.extras)),s.append(a)}));return s}},t.preload=function(e){return e.preload||(e.preload=!0),t.createWindow(e)},t.closeOpened=function(e){var i=e.opened();if(i)for(var s=0,n=i.length;s<n;s++){var a=i[s],o=a.opened();o&&o.length>0?t.closeOpened(a):a.parent()!==e&&a.close("none")}},t.closeAll=function(e,i){t.closeOpened(e),i?e.close(i):e.close()},t.createWindows=function(e){t.each(e,function(e,i){t.createWindow(i,!1)})},t.appendWebview=function(e){if(window.plus){var i,s=e.id||e.url;return t.webviews[s]||(plus.webview.getWebviewById(s)||(i=plus.webview.create(e.url,s,e.styles,e.extras)),plus.webview.currentWebview().append(i),t.webviews[s]=e),i}},t.webviews={},t.data.preloads=[],t.plusReady(function(){t.currentWebview=plus.webview.currentWebview()}),t.addInit({name:"5+",index:100,handle:function(){var e=t.options,i=e.subpages||[];t.os.plus&&t.plusReady(function(){t.each(i,function(e,i){t.appendWebview(i)}),plus.webview.currentWebview()===plus.webview.getWebviewById(plus.runtime.appid)&&(t.isHomePage=!0,setTimeout(function(){s(plus.webview.currentWebview())},300)),t.os.ios&&t.options.statusBarBackground&&plus.navigator.setStatusBarBackground(t.options.statusBarBackground),t.os.android&&parseFloat(t.os.version)<4.4&&null==plus.webview.currentWebview().parent()&&document.addEventListener("resume",function(){var t=document.body;t.style.display="none",setTimeout(function(){t.style.display=""},10)})})}}),window.addEventListener("preload",function(){var e=t.options.preloadPages||[];t.plusReady(function(){t.each(e,function(e,i){t.createWindow(t.extend(i,{preload:!0}))})})}),t.supportStatusbarOffset=function(){return t.os.plus&&t.os.ios&&parseFloat(t.os.version)>=7},t.ready(function(){t.supportStatusbarOffset()&&document.body.classList.add("shopex-statusbar")})}(shopex),function(t,e){t.addBack=function(e){return t.addAction("backs",e)},t.addBack({name:"browser",index:100,handle:function(){return e.history.length>1&&(e.history.back(),!0)}}),t.back=function(){"function"==typeof t.options.beforeback&&t.options.beforeback()===!1||t.doAction("backs")},e.addEventListener("tap",function(e){var i=t.targets.action;i&&i.classList.contains("shopex-action-back")&&(t.back(),t.targets.action=!1)}),e.addEventListener("swiperight",function(e){var i=e.detail;t.options.swipeBack===!0&&Math.abs(i.angle)<3&&t.back()})}(shopex,window),function(t,e){t.os.plus&&t.os.android&&t.addBack({name:"shopex",index:5,handle:function(){if(t.targets._popover&&t.targets._popover.classList.contains("shopex-active"))return t(t.targets._popover).popover("hide"),!0;var e=document.querySelector(".shopex-off-canvas-wrap.shopex-active");if(e)return t(e).offCanvas("close"),!0;var i=t.isFunction(t.getPreviewImage)&&t.getPreviewImage();return i&&i.isShown()?(i.close(),!0):t.closePopup()}}),t.addBack({name:"5+",index:10,handle:function(){if(!e.plus)return!1;var i=plus.webview.currentWebview(),s=i.parent();return s?s.evalJS("shopex&&shopex.back();"):i.canBack(function(s){s.canBack?e.history.back():i.id===plus.runtime.appid||(i.preload?i.hide("auto"):t.closeAll(i))}),!0}}),t.menu=function(){var i=document.querySelector(".shopex-action-menu");if(i)t.trigger(i,t.EVENT_START),t.trigger(i,"tap");else if(e.plus){var s=t.currentWebview,n=s.parent();n&&n.evalJS("shopex&&shopex.menu();")}};var i=function(){t.back()},s=function(){t.menu()};t.plusReady(function(){t.options.keyEventBind.backbutton&&plus.key.addEventListener("backbutton",i,!1),t.options.keyEventBind.menubutton&&plus.key.addEventListener("menubutton",s,!1)}),t.addInit({name:"keyEventBind",index:1e3,handle:function(){t.plusReady(function(){t.options.keyEventBind.backbutton||plus.key.removeEventListener("backbutton",i),t.options.keyEventBind.menubutton||plus.key.removeEventListener("menubutton",s)})}})}(shopex,window),function(t){t.addInit({name:"pullrefresh",index:1e3,handle:function(){var e=t.options,i=e.pullRefresh||{},s=i.down&&i.down.hasOwnProperty("callback"),n=i.up&&i.up.hasOwnProperty("callback");if(s||n){var a=i.container;if(a){var o=t(a);1===o.length&&(t.os.plus&&t.os.android?t.plusReady(function(){var e=plus.webview.currentWebview();if(n){var a={};a.up=i.up,a.webviewId=e.id||e.getURL(),o.pullRefresh(a)}if(s){var r=e.parent(),l=e.id||e.getURL();if(r){n||o.pullRefresh({webviewId:l});var c={webviewId:l};c.down=t.extend({},i.down),c.down.callback="_CALLBACK",r.evalJS("shopex&&shopex(document.querySelector('.shopex-content')).pullRefresh('"+JSON.stringify(c)+"')")}}}):o.pullRefresh(i))}}}})}(shopex),function(t,e,i){var s="application/json",n="text/html",a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,o=/^(?:text|application)\/javascript/i,r=/^(?:text|application)\/xml/i,l=/^\s*$/;t.ajaxSettings={type:"GET",beforeSend:t.noop,success:t.noop,error:t.noop,complete:t.noop,context:null,xhr:function(t){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:s,xml:"application/xml, text/xml",html:n,text:"text/plain"},timeout:0,processData:!0,cache:!0};var c=function(t,e){var i=e.context;if(e.beforeSend.call(i,t,e)===!1)return!1},h=function(t,e,i){i.success.call(i.context,t,"success",e),u("success",e,i)},p=function(t,e,i,s){s.error.call(s.context,i,e,t),u(e,i,s)},u=function(t,e,i){i.complete.call(i.context,e,t)},d=function(e,i,s,n){var a,o=t.isArray(i),r=t.isPlainObject(i);t.each(i,function(i,l){a=t.type(l),n&&(i=s?n:n+"["+(r||"object"===a||"array"===a?i:"")+"]"),!n&&o?e.add(l.name,l.value):"array"===a||!s&&"object"===a?d(e,l,s,i):e.add(i,l)})},f=function(e){e.processData&&e.data&&"string"!=typeof e.data&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!==e.type.toUpperCase()||(e.url=v(e.url,e.data),e.data=i)},v=function(t,e){return""===e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")},g=function(t){return t&&(t=t.split(";",2)[0]),t&&(t===n?"html":t===s?"json":o.test(t)?"script":r.test(t)&&"xml")||"text"},m=function(e,s,n,a){return t.isFunction(s)&&(a=n,
n=s,s=i),t.isFunction(n)||(a=n,n=i),{url:e,data:s,success:n,dataType:a}};t.ajax=function(s,n){"object"==typeof s&&(n=s,s=i);var a=n||{};a.url=s||a.url;for(var o in t.ajaxSettings)a[o]===i&&(a[o]=t.ajaxSettings[o]);f(a);var r=a.dataType;a.cache!==!1&&(n&&n.cache===!0||"script"!==r)||(a.url=v(a.url,"_="+t.now()));var u,d=a.accepts[r&&r.toLowerCase()],m={},b=function(t,e){m[t.toLowerCase()]=[t,e]},w=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:e.location.protocol,y=a.xhr(a),x=y.setRequestHeader;if(b("X-Requested-With","XMLHttpRequest"),b("Accept",d||"*/*"),(d=a.mimeType||d)&&(d.indexOf(",")>-1&&(d=d.split(",",2)[0]),y.overrideMimeType&&y.overrideMimeType(d)),(a.contentType||a.contentType!==!1&&a.data&&"GET"!==a.type.toUpperCase())&&b("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(var L in a.headers)b(L,a.headers[L]);if(y.setRequestHeader=b,y.onreadystatechange=function(){if(4===y.readyState){y.onreadystatechange=t.noop,clearTimeout(u);var e,i=!1,s="file:"===w;if(y.status>=200&&y.status<300||304===y.status||0===y.status&&s&&y.responseText){r=r||g(a.mimeType||y.getResponseHeader("content-type")),e=y.responseText;try{"script"===r?(0,eval)(e):"xml"===r?e=y.responseXML:"json"===r&&(e=l.test(e)?null:t.parseJSON(e))}catch(n){i=n}i?p(i,"parsererror",y,a):h(e,y,a)}else{var o=y.status?"error":"abort",c=y.statusText||null;s&&(o="error",c="404"),p(c,o,y,a)}}},c(y,a)===!1)return y.abort(),p(null,"abort",y,a),y;if(a.xhrFields)for(var L in a.xhrFields)y[L]=a.xhrFields[L];var T=!("async"in a)||a.async;y.open(a.type.toUpperCase(),a.url,T,a.username,a.password);for(var L in m)x.apply(y,m[L]);return a.timeout>0&&(u=setTimeout(function(){y.onreadystatechange=t.noop,y.abort(),p(null,"timeout",y,a)},a.timeout)),y.send(a.data?a.data:null),y},t.param=function(t,e){var i=[];return i.add=function(t,e){this.push(encodeURIComponent(t)+"="+encodeURIComponent(e))},d(i,t,e),i.join("&").replace(/%20/g,"+")},t.get=function(){return t.ajax(m.apply(null,arguments))},t.post=function(){var e=m.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=m.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,s){if(!this.length)return this;var n,o=this,r=e.split(/\s/),l=m(e,i,s),c=l.success;return r.length>1&&(l.url=r[0],n=r[1]),l.success=function(t){if(n){var e=document.createElement("div");e.innerHTML=t.replace(a,"");var i=document.createElement("div"),s=e.querySelectorAll(n);if(s&&s.length>0)for(var r=0,l=s.length;r<l;r++)i.appendChild(s[r]);o[0].innerHTML=i.innerHTML}else o[0].innerHTML=t;c&&c.apply(o,arguments)},t.ajax(l),this}}(shopex,window),function(t){var e=document.createElement("a");e.href=window.location.href,t.plusReady(function(){t.ajaxSettings=t.extend(t.ajaxSettings,{xhr:function(t){if(t.crossDomain)return new plus.net.XMLHttpRequest;if("file:"!==e.protocol){var i=document.createElement("a");if(i.href=t.url,i.href=i.href,t.crossDomain=e.protocol+"//"+e.host!=i.protocol+"//"+i.host,t.crossDomain)return new plus.net.XMLHttpRequest}return new window.XMLHttpRequest}})})}(shopex),function(t,e,i){t.offset=function(t){var s={top:0,left:0};return typeof t.getBoundingClientRect!==i&&(s=t.getBoundingClientRect()),{top:s.top+e.pageYOffset-t.clientTop,left:s.left+e.pageXOffset-t.clientLeft}}}(shopex,window),function(t,e){t.scrollTo=function(t,i,s){i=i||1e3;var n=function(i){if(i<=0)return e.scrollTo(0,t),void(s&&s());var a=t-e.scrollY;setTimeout(function(){e.scrollTo(0,e.scrollY+a/i*10),n(i-10)},16.7)};n(i)},t.animationFrame=function(t){var e,i,s;return function(){e=arguments,s=this,i||(i=!0,requestAnimationFrame(function(){t.apply(s,e),i=!1}))}}}(shopex,window),function(t){var e=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,s=function(){};s.extend=function(t){function s(){!e&&this.init&&this.init.apply(this,arguments)}var n=this.prototype;e=!0;var a=new this;e=!1;for(var o in t)a[o]="function"==typeof t[o]&&"function"==typeof n[o]&&i.test(t[o])?function(t,e){return function(){var i=this._super;this._super=n[t];var s=e.apply(this,arguments);return this._super=i,s}}(o,t[o]):t[o];return s.prototype=a,s.prototype.constructor=s,s.extend=arguments.callee,s},t.Class=s}(shopex),function(t,e,i){var s="shopex-pull-top-pocket",n="shopex-pull-bottom-pocket",a="shopex-pull",o="shopex-pull-loading",r="shopex-pull-caption",l="shopex-pull-caption-down",c="shopex-pull-caption-refresh",h="shopex-pull-caption-nomore",p="shopex-icon",u="shopex-spinner",d="shopex-icon-pulldown",f="shopex-block",v="shopex-hidden",g="shopex-visibility",m=o+" "+p+" "+d,b=o+" "+p+" "+d,w=o+" "+p+" "+u,y=['<div class="'+a+'">','<div class="{icon}"></div>','<div class="'+r+'">{contentrefresh}</div>',"</div>"].join(""),x={init:function(e,i){this._super(e,t.extend(!0,{scrollY:!0,scrollX:!1,indicators:!0,deceleration:.003,down:{height:50,contentinit:"下拉可以刷新",contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新..."},up:{height:50,auto:!1,contentinit:"上拉显示更多",contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",duration:300}},i))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.pullPocket=this.topPocket,this.pullPocket.classList.add(f),this.pullPocket.classList.add(g),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=!1,this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(f),this.pullPocket.classList.add(g),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading},_initPocket:function(){var t=this.options;t.down&&t.down.hasOwnProperty("callback")&&(this.topPocket=this.scroller.querySelector("."+s),this.topPocket||(this.topPocket=this._createPocket(s,t.down,b),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector("."+o),this.topCaption=this.topPocket.querySelector("."+r)),t.up&&t.up.hasOwnProperty("callback")&&(this.bottomPocket=this.scroller.querySelector("."+n),this.bottomPocket||(this.bottomPocket=this._createPocket(n,t.up,w),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector("."+o),this.bottomCaption=this.bottomPocket.querySelector("."+r),this.wrapper.addEventListener("scrollbottom",this))},_createPocket:function(t,i,s){var n=e.createElement("div");return n.className=t,n.innerHTML=y.replace("{contentrefresh}",i.contentinit).replace("{icon}",s),n},_resetPullDownLoading:function(){var t=this.pullLoading;t&&(this.pullCaption.innerHTML=this.options.down.contentdown,t.style.webkitTransition="",t.style.webkitTransform="",t.style.webkitAnimation="",t.className=b)},_setCaptionClass:function(t,e,i){if(!t)switch(i){case this.options.up.contentdown:e.className=r+" "+l;break;case this.options.up.contentrefresh:e.className=r+" "+c;break;case this.options.up.contentnomore:e.className=r+" "+h}},_setCaption:function(t,e){if(!this.loading){var i=this.options,s=this.pullPocket,n=this.pullCaption,a=this.pullLoading,o=this.pulldown,r=this;s&&(e?setTimeout(function(){n.innerHTML=r.lastTitle=t,o?a.className=b:(r._setCaptionClass(!1,n,t),a.className=w),a.style.webkitAnimation="",a.style.webkitTransition="",a.style.webkitTransform=""},100):t!==this.lastTitle&&(n.innerHTML=t,o?t===i.down.contentrefresh?(a.className=w,a.style.webkitAnimation="spinner-spin 1s step-end infinite"):t===i.down.contentover?(a.className=m,a.style.webkitTransition="-webkit-transform 0.3s ease-in",a.style.webkitTransform="rotate(180deg)"):t===i.down.contentdown&&(a.className=b,a.style.webkitTransition="-webkit-transform 0.3s ease-in",a.style.webkitTransform="rotate(0deg)"):(t===i.up.contentrefresh?a.className=w+" "+g:a.className=w+" "+v,r._setCaptionClass(!1,n,t)),this.lastTitle=t))}}};t.PullRefresh=x}(shopex,document),function(t,e,i,s){var n=t.className("scroll"),a=t.className("scrollbar"),o=t.className("scrollbar-indicator"),r=a+"-vertical",l=a+"-horizontal",c=t.className("active"),h={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},outCirc:{style:"cubic-bezier(0.075, 0.82, 0.165, 1)"},outCubic:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)"}},p=t.Class.extend({init:function(e,i){this.wrapper=this.element=e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.stopped=!1,this.options=t.extend(!0,{scrollY:!0,scrollX:!1,startX:0,startY:0,indicators:!0,stopPropagation:!1,hardwareAccelerated:!0,fixedBadAndorid:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/},momentum:!0,snapX:.5,snap:!1,bounce:!0,bounceTime:500,bounceEasing:h.outCirc,scrollTime:500,scrollEasing:h.outCubic,directionLockThreshold:5,parallaxElement:!1,parallaxRatio:.5},i),this.x=0,this.y=0,this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"",this._init(),this.scroller&&(this.refresh(),this.scrollTo(this.options.startX,this.options.startY))},_init:function(){this._initParallax(),this._initIndicators(),this._initEvent()},_initParallax:function(){this.options.parallaxElement&&(this.parallaxElement=i.querySelector(this.options.parallaxElement),this.parallaxStyle=this.parallaxElement.style,this.parallaxHeight=this.parallaxElement.offsetHeight,this.parallaxImgStyle=this.parallaxElement.querySelector("img").style)},_initIndicators:function(){var t=this;if(t.indicators=[],this.options.indicators){var e,i=[];t.options.scrollY&&(e={el:this._createScrollBar(r),listenX:!1},this.wrapper.appendChild(e.el),i.push(e)),this.options.scrollX&&(e={el:this._createScrollBar(l),listenY:!1},this.wrapper.appendChild(e.el),i.push(e));for(var s=i.length;s--;)this.indicators.push(new u(this,i[s]))}},_initSnap:function(){this.currentPage={},this.pages=[];for(var t=this.snaps,e=t.length,i=0,s=-1,n=0,a=0,o=0,r=0,l=0;l<e;l++){var h=t[l],p=h.offsetLeft,u=h.offsetWidth;(0===l||p<=t[l-1].offsetLeft)&&(i=0,s++),this.pages[i]||(this.pages[i]=[]),n=this._getSnapX(p),r=Math.round(u*this.options.snapX),a=n-r,o=n-u+r,this.pages[i][s]={x:n,leftX:a,rightX:o,pageX:i,element:h},h.classList.contains(c)&&(this.currentPage=this.pages[i][0]),n>=this.maxScrollX&&i++}this.options.startX=this.currentPage.x||0},_getSnapX:function(t){return Math.max(Math.min(0,-t+this.wrapperWidth/2),this.maxScrollX)},_gotoPage:function(t){this.currentPage=this.pages[Math.min(t,this.pages.length-1)][0];for(var e=0,i=this.snaps.length;e<i;e++)e===t?this.snaps[e].classList.add(c):this.snaps[e].classList.remove(c);this.scrollTo(this.currentPage.x,0,this.options.scrollTime)},_nearestSnap:function(t){if(!this.pages.length)return{x:0,pageX:0};var e=0,i=this.pages.length;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX);e<i;e++){var s="left"===this.direction?this.pages[e][0].leftX:this.pages[e][0].rightX;if(t>=s)return this.pages[e][0]}return{x:0,pageX:0}},_initEvent:function(i){var s=i?"removeEventListener":"addEventListener";e[s]("orientationchange",this),e[s]("resize",this),this.scroller[s]("webkitTransitionEnd",this),this.wrapper[s](t.EVENT_START,this),this.wrapper[s](t.EVENT_CANCEL,this),this.wrapper[s](t.EVENT_END,this),this.wrapper[s]("drag",this),this.wrapper[s]("dragend",this),this.wrapper[s]("flick",this),this.wrapper[s]("scrollend",this),this.options.scrollX&&this.wrapper[s]("swiperight",this);var n=this.wrapper.querySelector(t.classSelector(".segmented-control"));n&&shopex(n)[i?"off":"on"]("click","a",t.preventDefault),this.wrapper[s]("scrollstart",this),this.wrapper[s]("refresh",this)},_handleIndicatorScrollend:function(){this.indicators.map(function(t){t.fade()})},_handleIndicatorScrollstart:function(){this.indicators.map(function(t){t.fade(1)})},_handleIndicatorRefresh:function(){this.indicators.map(function(t){t.refresh()})},handleEvent:function(e){if(this.stopped)return void this.resetPosition();switch(e.type){case t.EVENT_START:this._start(e);break;case"drag":this.options.stopPropagation&&e.stopPropagation(),this._drag(e);break;case"dragend":case"flick":this.options.stopPropagation&&e.stopPropagation(),this._flick(e);break;case t.EVENT_CANCEL:case t.EVENT_END:this._end(e);break;case"webkitTransitionEnd":this.transitionTimer&&this.transitionTimer.cancel(),this._transitionEnd(e);break;case"scrollstart":this._handleIndicatorScrollstart(e);break;case"scrollend":this._handleIndicatorScrollend(e),this._scrollend(e),e.stopPropagation();break;case"orientationchange":case"resize":this._resize();break;case"swiperight":e.stopPropagation();break;case"refresh":this._handleIndicatorRefresh(e)}},_start:function(e){if(this.moved=this.needReset=!1,this._transitionTime(),this.isInTransition){this.needReset=!0,this.isInTransition=!1;var i=t.parseTranslateMatrix(t.getStyles(this.scroller,"webkitTransform"));this.setTranslate(Math.round(i.x),Math.round(i.y)),t.trigger(this.scroller,"scrollend",this),e.preventDefault()}this.reLayout(),t.trigger(this.scroller,"beforescrollstart",this)},_getDirectionByAngle:function(t){return t<-80&&t>-100?"up":t>=80&&t<100?"down":t>=170||t<=-170?"left":t>=-35&&t<=10?"right":null},_drag:function(i){var s=i.detail;if((this.options.scrollY||"up"===s.direction||"down"===s.direction)&&t.os.ios&&parseFloat(t.os.version)>=8){var n=s.gesture.touches[0].clientY;if(n+10>e.innerHeight||n<10)return void this.resetPosition(this.options.bounceTime)}var a=isReturn=!1;this._getDirectionByAngle(s.angle);if("left"===s.direction||"right"===s.direction?this.options.scrollX?(a=!0,this.moved||(t.gestures.session.lockDirection=!0,t.gestures.session.startDirection=s.direction)):this.options.scrollY&&!this.moved&&(isReturn=!0):"up"===s.direction||"down"===s.direction?this.options.scrollY?(a=!0,this.moved||(t.gestures.session.lockDirection=!0,t.gestures.session.startDirection=s.direction)):this.options.scrollX&&!this.moved&&(isReturn=!0):isReturn=!0,(this.moved||a)&&(i.stopPropagation(),s.gesture&&s.gesture.preventDefault()),!isReturn){this.moved?i.stopPropagation():t.trigger(this.scroller,"scrollstart",this);var o=0,r=0;this.moved?(o=s.deltaX-t.gestures.session.prevTouch.deltaX,r=s.deltaY-t.gestures.session.prevTouch.deltaY):(o=s.deltaX,r=s.deltaY);var l=Math.abs(s.deltaX),c=Math.abs(s.deltaY);l>c+this.options.directionLockThreshold?r=0:c>=l+this.options.directionLockThreshold&&(o=0),o=this.hasHorizontalScroll?o:0,r=this.hasVerticalScroll?r:0;var h=this.x+o,p=this.y+r;(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+o/3:h>0?0:this.maxScrollX),(p>0||p<this.maxScrollY)&&(p=this.options.bounce?this.y+r/3:p>0?0:this.maxScrollY),this.requestAnimationFrame||this._updateTranslate(),this.direction=s.deltaX>0?"right":"left",this.moved=!0,this.x=h,this.y=p,t.trigger(this.scroller,"scroll",this)}},_flick:function(e){if(this.moved){e.stopPropagation();var i=e.detail;if(this._clearRequestAnimationFrame(),"dragend"!==e.type||!i.flick){var s=Math.round(this.x),n=Math.round(this.y);if(this.isInTransition=!1,!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,n),"dragend"===e.type)return void t.trigger(this.scroller,"scrollend",this);var a=0,o="";return this.options.momentum&&i.flickTime<300&&(momentumX=this.hasHorizontalScroll?this._momentum(this.x,i.flickDistanceX,i.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},momentumY=this.hasVerticalScroll?this._momentum(this.y,i.flickDistanceY,i.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0},s=momentumX.destination,n=momentumY.destination,a=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=!0),s!=this.x||n!=this.y?((s>0||s<this.maxScrollX||n>0||n<this.maxScrollY)&&(o=h.quadratic),void this.scrollTo(s,n,a,o)):void t.trigger(this.scroller,"scrollend",this)}}}},_end:function(e){this.needReset=!1,(!this.moved&&this.needReset||e.type===t.EVENT_CANCEL)&&this.resetPosition()},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,t.trigger(this.scroller,"scrollend",this)))},_scrollend:function(e){(0===this.y&&0===this.maxScrollY||Math.abs(this.y)>0&&this.y<=this.maxScrollY)&&t.trigger(this.scroller,"scrollbottom",this)},_resize:function(){var t=this;clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){t.refresh()},t.options.resizePolling)},_transitionTime:function(e){if(e=e||0,this.scrollerStyle.webkitTransitionDuration=e+"ms",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=e+"ms"),this.options.fixedBadAndorid&&!e&&t.os.isBadAndroid&&(this.scrollerStyle.webkitTransitionDuration="0.001s",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration="0.001s")),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e);e&&(this.transitionTimer&&this.transitionTimer.cancel(),this.transitionTimer=t.later(function(){t.trigger(this.scroller,"webkitTransitionEnd")},e+100,this))},_transitionTimingFunction:function(t){if(this.scrollerStyle.webkitTransitionTimingFunction=t,this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=t),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){this.x=t,this.y=e},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_updateTranslate:function(){var t=this;t.x===t.lastX&&t.y===t.lastY||t.setTranslate(t.x,t.y),t.requestAnimationFrame=requestAnimationFrame(function(){t._updateTranslate()})},_createScrollBar:function(t){var e=i.createElement("div"),s=i.createElement("div");return e.className=a+" "+t,s.className=o,e.appendChild(s),t===r?(this.scrollbarY=e,this.scrollbarIndicatorY=s):t===l&&(this.scrollbarX=e,this.scrollbarIndicatorX=s),this.wrapper.appendChild(e),e},_preventDefaultException:function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},_reLayout:function(){if(this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.indicators.map(function(t){t.refresh()}),this.options.snap&&"string"==typeof this.options.snap){var t=this.scroller.querySelectorAll(this.options.snap);this.itemLength=0,this.snaps=[];for(var e=0,i=t.length;e<i;e++){var s=t[e];s.parentNode===this.scroller&&(this.itemLength++,this.snaps.push(s))}this._initSnap()}},_momentum:function(t,e,i,n,a,o){var r,l,c=parseFloat(Math.abs(e)/i);return o=o===s?6e-4:o,r=t+c*c/(2*o)*(e<0?-1:1),l=c/o,r<n?(r=a?n-a/2.5*(c/8):n,e=Math.abs(r-t),l=e/c):r>0&&(r=a?a/2.5*(c/8):0,e=Math.abs(t)+r,l=e/c),{destination:Math.round(r),duration:l}},_getTranslateStr:function(t,e){return this.options.hardwareAccelerated?"translate3d("+t+"px,"+e+"px,0px) "+this.translateZ:"translate("+t+"px,"+e+"px) "},setStopped:function(t){this.stopped=!!t},setTranslate:function(e,i){if(this.x=e,this.y=i,this.scrollerStyle.webkitTransform=this._getTranslateStr(e,i),this.parallaxElement&&this.options.scrollY){var s=i*this.options.parallaxRatio,n=1+s/((this.parallaxHeight-s)/2);n>1?(this.parallaxImgStyle.opacity=1-s/100*this.options.parallaxRatio,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-s)+" scale("+n+","+n+")"):(this.parallaxImgStyle.opacity=1,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-1)+" scale(1,1)")}if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].updatePosition();this.lastX=this.x,this.lastY=this.y,t.trigger(this.scroller,"scroll",this)},reLayout:function(){this.wrapper.offsetHeight;var e=parseFloat(t.getStyles(this.wrapper,"padding-left"))||0,i=parseFloat(t.getStyles(this.wrapper,"padding-right"))||0,s=parseFloat(t.getStyles(this.wrapper,"padding-top"))||0,n=parseFloat(t.getStyles(this.wrapper,"padding-bottom"))||0,a=this.wrapper.clientWidth,o=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.wrapperWidth=a-e-i,this.wrapperHeight=o-s-n,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this._reLayout()},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.scrollEasing),!0)},_reInit:function(){for(var t=this.wrapper.querySelectorAll("."+n),e=0,i=t.length;e<i;e++)if(t[e].parentNode===this.wrapper){this.scroller=t[e];break}this.scrollerStyle=this.scroller&&this.scroller.style},refresh:function(){this._reInit(),this.reLayout(),t.trigger(this.scroller,"refresh",this),this.resetPosition()},scrollTo:function(t,e,i,s){var s=s||h.circular;this.isInTransition=i>0,this.isInTransition?(this._clearRequestAnimationFrame(),this._transitionTimingFunction(s.style),this._transitionTime(i),this.setTranslate(t,e)):this.setTranslate(t,e)},scrollToBottom:function(t,e){t=t||this.options.scrollTime,this.scrollTo(0,this.maxScrollY,t,e)},gotoPage:function(t){this._gotoPage(t)},destroy:function(){this._initEvent(!0),delete t.data[this.wrapper.getAttribute("data-scroll")],this.wrapper.setAttribute("data-scroll","")}}),u=function(e,s){this.wrapper="string"==typeof s.el?i.querySelector(s.el):s.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options=t.extend({listenX:!0,listenY:!0,fade:!1,speedRatioX:0,speedRatioY:0},s),this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.fade&&(this.wrapperStyle.webkitTransform=this.scroller.translateZ,this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&t.os.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")};u.prototype={handleEvent:function(t){},transitionTime:function(e){e=e||0,this.indicatorStyle.webkitTransitionDuration=e+"ms",this.scroller.options.fixedBadAndorid&&!e&&t.os.isBadAndroid&&(this.indicatorStyle.webkitTransitionDuration="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle.webkitTransitionTimingFunction=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;t<this.minBoundaryX?(this.width=Math.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px",t=this.minBoundaryX):t>this.maxBoundaryX?(this.width=Math.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?(this.height=Math.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px",e=this.minBoundaryY):e>this.maxBoundaryY?(this.height=Math.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"),this.x=t,this.y=e,this.indicatorStyle.webkitTransform=this.scroller._getTranslateStr(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,s=t?0:300;t=t?"1":"0",this.wrapperStyle.webkitTransitionDuration=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),s)}}},t.Scroll=p,t.fn.scroll=function(e){var i=[];return this.each(function(){var s=null,n=this,a=n.getAttribute("data-scroll");if(a)s=t.data[a];else{a=++t.uuid;var o=t.extend({},e);n.classList.contains(t.className("segmented-control"))&&(o=t.extend(o,{scrollY:!1,scrollX:!0,indicators:!1,snap:t.classSelector(".control-item")})),t.data[a]=s=new p(n,o),n.setAttribute("data-scroll",a)}i.push(s)}),1===i.length?i[0]:i}}(shopex,window,document),function(t,e,i,s){var n="shopex-visibility",a="shopex-hidden",o=t.Scroll.extend(t.extend({handleEvent:function(t){this._super(t),"scrollbottom"===t.type&&t.target===this.scroller&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(t){t.touches&&t.touches.length&&t.touches[0].clientX>30&&t.target&&!this._preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(t)},_drag:function(t){this._super(t),!this.pulldown&&!this.loading&&this.topPocket&&"down"===t.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(t){if(this.pulldown){if(this.y>=this.options.down.height)return this.pulldownLoading(s,t||0),!0;!this.loading&&this.topPocket.classList.remove(n)}return this._super(t)},pulldownLoading:function(t,e){if("undefined"==typeof t&&(t=this.options.down.height),this.scrollTo(0,t,e,this.options.bounceEasing),!this.loading){this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(t){t.fade(0)});var i=this.options.down.callback;i&&i.call(this)}},endPulldownToRefresh:function(){var t=this;t.topPocket&&t.loading&&this.pulldown&&(t.scrollTo(0,0,t.options.bounceTime,t.options.bounceEasing),t.loading=!1,t._setCaption(t.options.down.contentdown,!0),setTimeout(function(){t.loading||t.topPocket.classList.remove(n)},350))},pullupLoading:function(t,e,i){e=e||0,this.scrollTo(e,this.maxScrollY,i,this.options.bounceEasing),this.loading||(this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(t){t.fade(0)}),this.loading=!0,t=t||this.options.up.callback,t&&t.call(this))},endPullupToRefresh:function(t){var e=this;e.bottomPocket&&(e.loading=!1,t?(this.finished=!0,e._setCaption(e.options.up.contentnomore),e.wrapper.removeEventListener("scrollbottom",e)):(e._setCaption(e.options.up.contentdown),e.loading||e.bottomPocket.classList.remove(n)))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="shopex-pull-bottom-pocket "+a,this.wrapper.removeEventListener("scrollbottom",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(a),this._setCaption(this.options.up.contentdown),this.wrapper.addEventListener("scrollbottom",this)},refresh:function(t){t&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1),this._super()}},t.PullRefresh));t.fn.pullRefresh=function(e){if(1===this.length){var i=this[0],s=null;e=e||{};var n=i.getAttribute("data-pullrefresh");return n?s=t.data[n]:(n=++t.uuid,t.data[n]=s=new o(i,e),i.setAttribute("data-pullrefresh",n)),e.down&&e.down.auto?s.pulldownLoading(e.down.autoY):e.up&&e.up.auto&&s.pullupLoading(),s}}}(shopex,window,document),function(t,e){var i=t.className("slider"),s=t.className("slider-group"),n=t.className("slider-loop"),a=(t.className("slider-indicator"),t.className("action-previous")),o=t.className("action-next"),r=t.className("slider-item"),l=t.className("active"),c="."+r,h=t.classSelector(".slider-progress-bar"),p=t.Slider=t.Scroll.extend({init:function(e,i){this._super(e,t.extend(!0,{fingers:1,interval:0,scrollY:!1,scrollX:!0,indicators:!1,scrollTime:1e3,startX:!1,slideTime:0,snap:c},i)),this.options.startX},_init:function(){this._reInit(),this.scroller&&(this.scrollerStyle=this.scroller.style,this.progressBar=this.wrapper.querySelector(h),this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style),this._super(),this._initTimer())},_triggerSlide:function(){var e=this;e.isInTransition=!1;e.currentPage;e.slideNumber=e._fixedSlideNumber(),e.loop&&(0===e.slideNumber?e.setTranslate(e.pages[1][0].x,0):e.slideNumber===e.itemLength-3&&e.setTranslate(e.pages[e.itemLength-2][0].x,0)),e.lastSlideNumber!=e.slideNumber&&(e.lastSlideNumber=e.slideNumber,e.lastPage=e.currentPage,t.trigger(e.wrapper,"slide",{slideNumber:e.slideNumber})),e._initTimer()},_handleSlide:function(e){var i=this;if(e.target===i.wrapper){var s=e.detail;s.slideNumber=s.slideNumber||0;for(var n=i.scroller.querySelectorAll(c),a=[],o=0,r=n.length;o<r;o++){var h=n[o];h.parentNode===i.scroller&&a.push(h)}var p=s.slideNumber;if(i.loop&&(p+=1),!i.wrapper.classList.contains(t.className("segmented-control")))for(var o=0,r=a.length;o<r;o++){var h=a[o];h.parentNode===i.scroller&&(o===p?h.classList.add(l):h.classList.remove(l))}var u=i.wrapper.querySelector(t.classSelector(".slider-indicator"));if(u){u.getAttribute("data-scroll")&&t(u).scroll().gotoPage(s.slideNumber);var d=u.querySelectorAll(t.classSelector(".indicator"));if(d.length>0)for(var o=0,r=d.length;o<r;o++)d[o].classList[o===s.slideNumber?"add":"remove"](l);else{var f=u.querySelector(t.classSelector(".number span"));if(f)f.innerText=s.slideNumber+1;else for(var v=u.querySelectorAll(t.classSelector(".control-item")),o=0,r=v.length;o<r;o++)v[o].classList[o===s.slideNumber?"add":"remove"](l)}}e.stopPropagation()}},_handleTabShow:function(t){var e=this;e.gotoItem(t.detail.tabNumber||0,e.options.slideTime)},_handleIndicatorTap:function(t){var e=this,i=t.target;(i.classList.contains(a)||i.classList.contains(o))&&(e[i.classList.contains(a)?"prevItem":"nextItem"](),t.stopPropagation())},_initEvent:function(e){var i=this;i._super(e);var s=e?"removeEventListener":"addEventListener";i.wrapper[s]("slide",this),i.wrapper[s](t.eventName("shown","tab"),this)},handleEvent:function(e){switch(this._super(e),e.type){case"slide":this._handleSlide(e);break;case t.eventName("shown","tab"):~this.snaps.indexOf(e.target)&&this._handleTabShow(e)}},_scrollend:function(t){this._super(t),this._triggerSlide(t)},_drag:function(t){this._super(t);var i=t.detail.direction;if("left"===i||"right"===i){var s=this.wrapper.getAttribute("data-slidershowTimer");s&&e.clearTimeout(s),t.stopPropagation()}},_initTimer:function(){var t=this,i=t.wrapper,s=t.options.interval,n=i.getAttribute("data-slidershowTimer");n&&e.clearTimeout(n),
s&&(n=e.setTimeout(function(){i&&((i.offsetWidth||i.offsetHeight)&&t.nextItem(!0),t._initTimer())},s),i.setAttribute("data-slidershowTimer",n))},_fixedSlideNumber:function(t){t=t||this.currentPage;var e=t.pageX;return this.loop&&(e=0===t.pageX?this.itemLength-3:t.pageX===this.itemLength-1?0:t.pageX-1),e},_reLayout:function(){this.hasHorizontalScroll=!0,this.loop=this.scroller.classList.contains(n),this._super()},_getScroll:function(){var e=t.parseTranslateMatrix(t.getStyles(this.scroller,"webkitTransform"));return e?e.x:0},_transitionEnd:function(e){e.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.isInTransition=!1,t.trigger(this.wrapper,"scrollend",this))},_flick:function(t){if(this.moved){var e=t.detail,i=e.direction;this._clearRequestAnimationFrame(),this.isInTransition=!0,"flick"===t.type?(e.deltaTime<200&&(this.x=this._getPage(this.slideNumber+("right"===i?-1:1),!0).x),this.resetPosition(this.options.bounceTime)):"dragend"!==t.type||e.flick||this.resetPosition(this.options.bounceTime),t.stopPropagation()}},_initSnap:function(){if(this.scrollerWidth=this.itemLength*this.scrollerWidth,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this._super(),this.currentPage.x)this.slideNumber=this._fixedSlideNumber(),this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?this.slideNumber:this.lastSlideNumber;else{var t=this.pages[this.loop?1:0];if(t=t||this.pages[0],!t)return;this.currentPage=t[0],this.slideNumber=0,this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?0:this.lastSlideNumber}this.options.startX=this.currentPage.x||0},_getSnapX:function(t){return Math.max(-t,this.maxScrollX)},_getPage:function(t,e){return this.loop?t>this.itemLength-(e?2:3)?(t=1,time=0):t<(e?-1:0)?(t=this.itemLength-2,time=0):t+=1:(e||(t>this.itemLength-1?(t=0,time=0):t<0&&(t=this.itemLength-1,time=0)),t=Math.min(Math.max(0,t),this.itemLength-1)),this.pages[t][0]},_gotoItem:function(e,i){this.currentPage=this._getPage(e,!0),this.scrollTo(this.currentPage.x,0,i,this.options.scrollEasing),0===i&&t.trigger(this.wrapper,"scrollend",this)},setTranslate:function(t,e){this._super(t,e);var i=this.progressBar;i&&(this.progressBarStyle.webkitTransform=this._getTranslateStr(-t*(this.progressBarWidth/this.wrapperWidth),0))},resetPosition:function(t){return t=t||0,this.x>0?this.x=0:this.x<this.maxScrollX&&(this.x=this.maxScrollX),this.currentPage=this._nearestSnap(this.x),this.scrollTo(this.currentPage.x,0,t,this.options.scrollEasing),!0},gotoItem:function(t,e){this._gotoItem(t,"undefined"==typeof e?this.options.scrollTime:e)},nextItem:function(){this._gotoItem(this.slideNumber+1,this.options.scrollTime)},prevItem:function(){this._gotoItem(this.slideNumber-1,this.options.scrollTime)},getSlideNumber:function(){return this.slideNumber||0},_reInit:function(){for(var t=this.wrapper.querySelectorAll("."+s),e=0,i=t.length;e<i;e++)if(t[e].parentNode===this.wrapper){this.scroller=t[e];break}this.scrollerStyle=this.scroller&&this.scroller.style,this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style)},refresh:function(e){e?(t.extend(this.options,e),this._super(),this._initTimer()):this._super()},destroy:function(){this._initEvent(!0),delete t.data[this.wrapper.getAttribute("data-slider")],this.wrapper.setAttribute("data-slider","")}});t.fn.slider=function(e){var s=null;return this.each(function(){var n=this;if(this.classList.contains(i)||(n=this.querySelector("."+i)),n&&n.querySelector(c)){var a=n.getAttribute("data-slider");a?(s=t.data[a],s&&e&&s.refresh(e)):(a=++t.uuid,t.data[a]=s=new p(n,e),n.setAttribute("data-slider",a))}}),s},t.ready(function(){t(t.classSelector(".slider")).slider(),t(t.classSelector(".scroll-wrapper.slider-indicator.segmented-control")).scroll({scrollY:!1,scrollX:!0,indicators:!1,snap:t.classSelector(".control-item")})})}(shopex,window),function(t,e){if(t.os.plus&&t.os.android){var i="shopex-plus-pullrefresh",s="shopex-visibility",n="shopex-hidden",a="shopex-block",o="shopex-pull-caption",r="shopex-pull-caption-down",l="shopex-pull-caption-refresh",c="shopex-pull-caption-nomore",h=t.Class.extend({init:function(t,e){this.element=t,this.options=e,this.wrapper=this.scroller=t,this._init(),this._initPulldownRefreshEvent()},_init:function(){var t=this;window.addEventListener("dragup",t),e.addEventListener("plusscrollbottom",t),t.scrollInterval=window.setInterval(function(){t.isScroll&&!t.loading&&window.pageYOffset+window.innerHeight+10>=e.documentElement.scrollHeight&&(t.isScroll=!1,t.bottomPocket&&t.pullupLoading())},100)},_initPulldownRefreshEvent:function(){var e=this;e.topPocket&&e.options.webviewId&&t.plusReady(function(){var t=plus.webview.getWebviewById(e.options.webviewId);if(t){e.options.webview=t;var i=e.options.down,s=i.height;t.addEventListener("dragBounce",function(s){switch(e.pulldown?e.pullPocket.classList.add(a):e._initPulldownRefresh(),s.status){case"beforeChangeOffset":e._setCaption(i.contentdown);break;case"afterChangeOffset":e._setCaption(i.contentover);break;case"dragEndAfterChangeOffset":t.evalJS("shopex&&shopex.options.pullRefresh.down.callback()"),e._setCaption(i.contentrefresh)}},!1),t.setBounce({position:{top:2*s+"px"},changeoffset:{top:s+"px"}})}})},handleEvent:function(t){var e=this;e.stopped||(e.isScroll=!1,"dragup"!==t.type&&"plusscrollbottom"!==t.type||(e.isScroll=!0,setTimeout(function(){e.isScroll=!1},1e3)))}}).extend(t.extend({setStopped:function(t){this.stopped=!!t;var e=plus.webview.currentWebview();if(this.stopped)e.setStyle({bounce:"none"}),e.setBounce({position:{top:"none"}});else{var i=this.options.down.height;e.setStyle({bounce:"vertical"}),e.setBounce({position:{top:2*i+"px"},changeoffset:{top:i+"px"}})}},pulldownLoading:function(){t.plusReady(function(){plus.webview.currentWebview().setBounce({offset:{top:this.options.down.height+"px"}})}.bind(this))},endPulldownToRefresh:function(){var t=plus.webview.currentWebview();t.parent().evalJS("shopex&&shopex(document.querySelector('.shopex-content')).pullRefresh('"+JSON.stringify({webviewId:t.id})+"')._endPulldownToRefresh()")},_endPulldownToRefresh:function(){var t=this;t.topPocket&&t.options.webview&&(t.options.webview.endPullToRefresh(),t.loading=!1,t._setCaption(t.options.down.contentdown,!0),setTimeout(function(){t.loading||t.topPocket.classList.remove(a)},350))},pullupLoading:function(t){var e=this;e.isLoading||(e.isLoading=!0,e.pulldown!==!1?e._initPullupRefresh():this.pullPocket.classList.add(a),setTimeout(function(){e.pullLoading.classList.add(s),e.pullLoading.classList.remove(n),e.pullCaption.innerHTML="",e.pullCaption.className=o+" "+l,e.pullCaption.innerHTML=e.options.up.contentrefresh,t=t||e.options.up.callback,t&&t.call(e)},300))},endPullupToRefresh:function(t){var i=this;i.pullLoading&&(i.pullLoading.classList.remove(s),i.pullLoading.classList.add(n),i.isLoading=!1,t?(i.finished=!0,i.pullCaption.className=o+" "+c,i.pullCaption.innerHTML=i.options.up.contentnomore,e.removeEventListener("plusscrollbottom",i),window.removeEventListener("dragup",i)):(i.pullCaption.className=o+" "+r,i.pullCaption.innerHTML=i.options.up.contentdown))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="shopex-pull-bottom-pocket "+n,window.removeEventListener("dragup",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(n),this.pullCaption.className=o+" "+r,this.pullCaption.innerHTML=this.options.up.contentdown,e.addEventListener("plusscrollbottom",this),window.addEventListener("dragup",this)},scrollTo:function(e,i,s){t.scrollTo(i,s)},refresh:function(t){t&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1)}},t.PullRefresh));t.fn.pullRefresh=function(s){var n;0===this.length?(n=e.createElement("div"),n.className="shopex-content",e.body.appendChild(n)):n=this[0],s=s||{},"string"==typeof s&&(s=t.parseJSON(s)),!s.webviewId&&(s.webviewId=plus.webview.currentWebview().id||plus.webview.currentWebview().getURL());var a=null,o=s.webviewId&&s.webviewId.replace(/\//g,"_"),r=n.getAttribute("data-pullrefresh-plus-"+o);return r?a=t.data[r]:(r=++t.uuid,n.setAttribute("data-pullrefresh-plus-"+o,r),e.body.classList.add(i),t.data[r]=a=new h(n,s)),s.down&&s.down.auto?a.pulldownLoading():s.up&&s.up.auto&&a.pullupLoading(),a}}}(shopex,document),function(t,e,i,s){var n="shopex-off-canvas-left",a="shopex-off-canvas-right",o="shopex-off-canvas-backdrop",r="shopex-off-canvas-wrap",l="shopex-slide-in",c="shopex-active",h="shopex-transitioning",p=".shopex-inner-wrap",u=t.Class.extend({init:function(e,s){this.wrapper=this.element=e,this.scroller=this.wrapper.querySelector(p),this.classList=this.wrapper.classList,this.scroller&&(this.options=t.extend(!0,{dragThresholdX:10,scale:.8,opacity:.1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/}},s),i.body.classList.add("shopex-fullscreen"),this.refresh(),this.initEvent())},_preventDefaultException:function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},refresh:function(t){this.slideIn=this.classList.contains(l),this.scalable=this.classList.contains("shopex-scalable")&&!this.slideIn,this.scroller=this.wrapper.querySelector(p),this.offCanvasLefts=this.wrapper.querySelectorAll("."+n),this.offCanvasRights=this.wrapper.querySelectorAll("."+a),t?t.classList.contains(n)?this.offCanvasLeft=t:t.classList.contains(a)&&(this.offCanvasRight=t):(this.offCanvasRight=this.wrapper.querySelector("."+a),this.offCanvasLeft=this.wrapper.querySelector("."+n)),this.offCanvasRightWidth=this.offCanvasLeftWidth=0,this.offCanvasLeftSlideIn=this.offCanvasRightSlideIn=!1,this.offCanvasRight&&(this.offCanvasRightWidth=this.offCanvasRight.offsetWidth,this.offCanvasRightSlideIn=this.slideIn&&this.offCanvasRight.parentNode===this.wrapper),this.offCanvasLeft&&(this.offCanvasLeftWidth=this.offCanvasLeft.offsetWidth,this.offCanvasLeftSlideIn=this.slideIn&&this.offCanvasLeft.parentNode===this.wrapper),this.backdrop=this.scroller.querySelector("."+o),this.options.dragThresholdX=this.options.dragThresholdX||10,this.visible=!1,this.startX=null,this.lastX=null,this.offsetX=null,this.lastTranslateX=null},handleEvent:function(e){switch(e.type){case t.EVENT_START:e.target&&!this._preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();break;case"webkitTransitionEnd":e.target===this.scroller&&this._dispatchEvent();break;case"drag":var i=e.detail;this.startX?this.lastX=i.center.x:(this.startX=i.center.x,this.lastX=this.startX),!this.isDragging&&Math.abs(this.lastX-this.startX)>this.options.dragThresholdX&&("left"===i.direction||"right"===i.direction)&&(this.slideIn?(this.scroller=this.wrapper.querySelector(p),this.classList.contains(c)?this.offCanvasRight&&this.offCanvasRight.classList.contains(c)?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):"left"===i.direction&&this.offCanvasRight?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):"right"===i.direction&&this.offCanvasLeft?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):this.scroller=null):this.classList.contains(c)?"left"===i.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):"right"===i.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth),this.offCanvas&&this.scroller&&(this.startX=this.lastX,this.isDragging=!0,t.gestures.session.lockDirection=!0,t.gestures.session.startDirection=i.direction,this.offCanvas.classList.remove(h),this.scroller.classList.remove(h),this.offsetX=this.getTranslateX(),this._initOffCanvasVisible())),this.isDragging&&(this.updateTranslate(this.offsetX+(this.lastX-this.startX)),i.gesture.preventDefault(),e.stopPropagation());break;case"dragend":if(this.isDragging){var i=e.detail,s=i.direction;this.isDragging=!1,this.offCanvas.classList.add(h),this.scroller.classList.add(h);var n=0,a=this.getTranslateX();if(this.slideIn){if(n=a>=0?this.offCanvasRightWidth&&a/this.offCanvasRightWidth||0:this.offCanvasLeftWidth&&a/this.offCanvasLeftWidth||0,"right"===s&&n<=0&&(n>=-.5||i.swipe)?this.openPercentage(100):"right"===s&&n>0&&(n>=.5||i.swipe)?this.openPercentage(0):"right"===s&&n<=-.5?this.openPercentage(0):"right"===s&&n>0&&n<=.5?this.openPercentage(-100):"left"===s&&n>=0&&(n<=.5||i.swipe)?this.openPercentage(-100):"left"===s&&n<0&&(n<=-.5||i.swipe)?this.openPercentage(0):"left"===s&&n>=.5?this.openPercentage(0):"left"===s&&n>=-.5&&n<0?this.openPercentage(100):this.openPercentage(0),1===n||n===-1||0===n)return void this._dispatchEvent()}else{if(n=a>=0?this.offCanvasLeftWidth&&a/this.offCanvasLeftWidth||0:this.offCanvasRightWidth&&a/this.offCanvasRightWidth||0,0===n)return this.openPercentage(0),void this._dispatchEvent();"right"===s&&n>=0&&(n>=.5||i.swipe)?this.openPercentage(100):"right"===s&&n<0&&(n>-.5||i.swipe)?this.openPercentage(0):"right"===s&&n>0&&n<.5?this.openPercentage(0):"right"===s&&n<.5?this.openPercentage(-100):"left"===s&&n<=0&&(n<=-.5||i.swipe)?this.openPercentage(-100):"left"===s&&n>0&&(n<=.5||i.swipe)?this.openPercentage(0):"left"===s&&n<0&&n>=-.5?this.openPercentage(0):"left"===s&&n>.5?this.openPercentage(100):this.openPercentage(0),1!==n&&n!==-1||this._dispatchEvent()}}}},_dispatchEvent:function(){this.classList.contains(c)?t.trigger(this.wrapper,"shown",this):t.trigger(this.wrapper,"hidden",this)},_initOffCanvasVisible:function(){this.visible||(this.visible=!0,this.offCanvasLeft&&(this.offCanvasLeft.style.visibility="visible"),this.offCanvasRight&&(this.offCanvasRight.style.visibility="visible"))},initEvent:function(){var e=this;e.backdrop&&e.backdrop.addEventListener("tap",function(t){e.close(),t.detail.gesture.preventDefault()}),this.classList.contains("shopex-draggable")&&(this.wrapper.addEventListener(t.EVENT_START,this),this.wrapper.addEventListener("drag",this),this.wrapper.addEventListener("dragend",this)),this.wrapper.addEventListener("webkitTransitionEnd",this)},openPercentage:function(t){var e=t/100;this.slideIn?(this.offCanvasLeft&&t>=0?(e=0===e?-1:0,this.updateTranslate(this.offCanvasLeftWidth*e),this.offCanvasLeft.classList[0!==t?"add":"remove"](c)):this.offCanvasRight&&t<=0&&(e=0===e?1:0,this.updateTranslate(this.offCanvasRightWidth*e),this.offCanvasRight.classList[0!==t?"add":"remove"](c)),this.classList[0!==t?"add":"remove"](c)):(this.offCanvasLeft&&t>=0?(this.updateTranslate(this.offCanvasLeftWidth*e),this.offCanvasLeft.classList[0!==e?"add":"remove"](c)):this.offCanvasRight&&t<=0&&(this.updateTranslate(this.offCanvasRightWidth*e),this.offCanvasRight.classList[0!==e?"add":"remove"](c)),this.classList[0!==e?"add":"remove"](c))},updateTranslate:function(e){if(e!==this.lastTranslateX){if(this.slideIn){if(this.offCanvas.classList.contains(a)){if(e<0)return void this.setTranslateX(0);if(e>this.offCanvasRightWidth)return void this.setTranslateX(this.offCanvasRightWidth)}else{if(e>0)return void this.setTranslateX(0);if(e<-this.offCanvasLeftWidth)return void this.setTranslateX(-this.offCanvasLeftWidth)}this.setTranslateX(e)}else{if(!this.offCanvasLeft&&e>0||!this.offCanvasRight&&e<0)return void this.setTranslateX(0);if(this.leftShowing&&e>this.offCanvasLeftWidth)return void this.setTranslateX(this.offCanvasLeftWidth);if(this.rightShowing&&e<-this.offCanvasRightWidth)return void this.setTranslateX(-this.offCanvasRightWidth);this.setTranslateX(e),e>=0?(this.leftShowing=!0,this.rightShowing=!1,e>0&&(this.offCanvasLeft&&t.each(this.offCanvasLefts,function(t,e){e===this.offCanvasLeft?this.offCanvasLeft.style.zIndex=0:e.style.zIndex=-1}.bind(this)),this.offCanvasRight&&(this.offCanvasRight.style.zIndex=-1))):(this.rightShowing=!0,this.leftShowing=!1,this.offCanvasRight&&t.each(this.offCanvasRights,function(t,e){e===this.offCanvasRight?e.style.zIndex=0:e.style.zIndex=-1}.bind(this)),this.offCanvasLeft&&(this.offCanvasLeft.style.zIndex=-1))}this.lastTranslateX=e}},setTranslateX:t.animationFrame(function(t){if(this.scroller)if(this.scalable&&this.offCanvas.parentNode===this.wrapper){var e=Math.abs(t)/this.offCanvasWidth,i=1-(1-this.options.scale)*e,s=this.options.scale+(1-this.options.scale)*e,a=(1-(1-this.options.opacity)*e,this.options.opacity+(1-this.options.opacity)*e);this.offCanvas.classList.contains(n)?(this.offCanvas.style.webkitTransformOrigin="-100%",this.scroller.style.webkitTransformOrigin="left"):(this.offCanvas.style.webkitTransformOrigin="200%",this.scroller.style.webkitTransformOrigin="right"),this.offCanvas.style.opacity=a,this.offCanvas.style.webkitTransform="translate3d(0,0,0) scale("+s+")",this.scroller.style.webkitTransform="translate3d("+t+"px,0,0) scale("+i+")"}else this.slideIn?this.offCanvas.style.webkitTransform="translate3d("+t+"px,0,0)":this.scroller.style.webkitTransform="translate3d("+t+"px,0,0)"}),getTranslateX:function(){if(this.offCanvas){var e=this.slideIn?this.offCanvas:this.scroller,i=t.parseTranslateMatrix(t.getStyles(e,"webkitTransform"));return i&&i.x||0}return 0},isShown:function(t){var e=!1;if(this.slideIn)e="left"===t?this.classList.contains(c)&&this.wrapper.querySelector("."+n+"."+c):"right"===t?this.classList.contains(c)&&this.wrapper.querySelector("."+a+"."+c):this.classList.contains(c)&&(this.wrapper.querySelector("."+n+"."+c)||this.wrapper.querySelector("."+a+"."+c));else{var i=this.getTranslateX();e="right"===t?this.classList.contains(c)&&i<0:"left"===t?this.classList.contains(c)&&i>0:this.classList.contains(c)&&0!==i}return e},close:function(){this._initOffCanvasVisible(),this.offCanvas=this.wrapper.querySelector("."+a+"."+c)||this.wrapper.querySelector("."+n+"."+c),this.offCanvasWidth=this.offCanvas.offsetWidth,this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(h),this.scroller.classList.add(h),this.openPercentage(0))},show:function(t){return this._initOffCanvasVisible(),!this.isShown(t)&&(t||(t=this.wrapper.querySelector("."+a)?"right":"left"),"right"===t?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth),this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(h),this.scroller.classList.add(h),this.openPercentage("left"===t?100:-100)),!0)},toggle:function(t){var e=t;t&&t.classList&&(e=t.classList.contains(n)?"left":"right",this.refresh(t)),this.show(e)||this.close()}}),d=function(t){if(parentNode=t.parentNode,parentNode){if(parentNode.classList.contains(r))return parentNode;if(parentNode=parentNode.parentNode,parentNode.classList.contains(r))return parentNode}},f=function(e,s){if("A"===s.tagName&&s.hash){var n=i.getElementById(s.hash.replace("#",""));if(n){var a=d(n);if(a)return t.targets._container=a,n}}return!1};t.registerTarget({name:s,index:60,handle:f,target:!1,isReset:!1,isContinue:!0}),e.addEventListener("tap",function(e){if(t.targets.offcanvas)for(var s=e.target;s&&s!==i;s=s.parentNode)if("A"===s.tagName&&s.hash&&s.hash==="#"+t.targets.offcanvas.id){e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault(),t(t.targets._container).offCanvas().toggle(t.targets.offcanvas),t.targets.offcanvas=t.targets._container=null;break}}),t.fn.offCanvas=function(e){var i=[];return this.each(function(){var s=null,n=this;n.classList.contains(r)||(n=d(n));var a=n.getAttribute("data-offCanvas");a?s=t.data[a]:(a=++t.uuid,t.data[a]=s=new u(n,e),n.setAttribute("data-offCanvas",a)),"show"!==e&&"close"!==e&&"toggle"!==e||s.toggle(),i.push(s)}),1===i.length?i[0]:i},t.ready(function(){t(".shopex-off-canvas-wrap").offCanvas()})}(shopex,window,document,"offcanvas"),function(t,e){var i="shopex-action",s=function(t,e){var s=e.className||"";return"string"!=typeof s&&(s=""),!(!s||!~s.indexOf(i))&&(e.classList.contains("shopex-action-back")&&t.preventDefault(),e)};t.registerTarget({name:e,index:50,handle:s,target:!1,isContinue:!0})}(shopex,"action"),function(t,e,i,s){var n="shopex-modal",a=function(t,e){if("A"===e.tagName&&e.hash){var s=i.getElementById(e.hash.replace("#",""));if(s&&s.classList.contains(n))return s}return!1};t.registerTarget({name:s,index:50,handle:a,target:!1,isReset:!1,isContinue:!0}),e.addEventListener("tap",function(e){t.targets.modal&&(e.detail.gesture.preventDefault(),t.targets.modal.classList.toggle("shopex-active"))})}(shopex,window,document,"modal"),function(t,e,i,s){var n="shopex-popover",a="shopex-popover-arrow",o="shopex-popover-action",r="shopex-backdrop",l="shopex-bar-popover",c="shopex-bar-backdrop",h="shopex-backdrop-action",p="shopex-active",u="shopex-bottom",d=function(e,s){if("A"===s.tagName&&s.hash){if(t.targets._popover=i.getElementById(s.hash.replace("#","")),t.targets._popover&&t.targets._popover.classList.contains(n))return s;t.targets._popover=null}return!1};t.registerTarget({name:s,index:60,handle:d,target:!1,isReset:!1,isContinue:!0});var f,v=function(t){},g=function(e){this.removeEventListener("webkitTransitionEnd",g),this.addEventListener(t.EVENT_MOVE,t.preventDefault),t.trigger(this,"shown",this)},m=function(e){x(this,"none"),this.removeEventListener("webkitTransitionEnd",m),this.removeEventListener(t.EVENT_MOVE,t.preventDefault),v(!1),t.trigger(this,"hidden",this)},b=function(){var e=i.createElement("div");return e.classList.add(r),e.addEventListener(t.EVENT_MOVE,t.preventDefault),e.addEventListener("tap",function(e){var s=t.targets._popover;s&&(s.addEventListener("webkitTransitionEnd",m),s.classList.remove(p),w(s),i.body.setAttribute("style",""))}),e}(),w=function(e){b.setAttribute("style","opacity:0"),t.targets.popover=t.targets._popover=null,f=t.later(function(){!e.classList.contains(p)&&b.parentNode&&b.parentNode===i.body&&i.body.removeChild(b)},350)};e.addEventListener("tap",function(e){if(t.targets.popover){for(var s=!1,n=e.target;n&&n!==i;n=n.parentNode)n===t.targets.popover&&(s=!0);s&&(e.detail.gesture.preventDefault(),y(t.targets._popover,t.targets.popover))}});var y=function(t,e,s){if(!("show"===s&&t.classList.contains(p)||"hide"===s&&!t.classList.contains(p))){f&&f.cancel(),t.removeEventListener("webkitTransitionEnd",g),t.removeEventListener("webkitTransitionEnd",m),b.classList.remove(c),b.classList.remove(h);var n=i.querySelector(".shopex-popover.shopex-active");if(n&&(n.addEventListener("webkitTransitionEnd",m),n.classList.remove(p),t===n))return void w(n);var a=!1;(t.classList.contains(l)||t.classList.contains(o))&&(t.classList.contains(o)?(a=!0,b.classList.add(h)):b.classList.add(c)),x(t,"block"),t.offsetHeight,t.classList.add(p),b.setAttribute("style",""),i.body.appendChild(b),v(!0),L(t,e,a),b.classList.add(p),t.addEventListener("webkitTransitionEnd",g)}},x=function(t,e,i,s){var n=t.style;"undefined"!=typeof e&&(n.display=e),"undefined"!=typeof i&&(n.top=i+"px"),"undefined"!=typeof s&&(n.left=s+"px")},L=function(s,n,r){if(s&&n){if(r)return void x(s,"block");var l=e.innerWidth,c=e.innerHeight,h=s.offsetWidth,p=s.offsetHeight,d=n.offsetWidth,f=n.offsetHeight,v=t.offset(n),g=s.querySelector("."+a);g||(g=i.createElement("div"),g.className=a,s.appendChild(g));var m=g&&g.offsetWidth/2||0,b=0,w=0,y=0,L=0,T=s.classList.contains(o)?0:5,E="top";p+m<v.top-e.pageYOffset?b=v.top-p-m:p+m<c-(v.top-e.pageYOffset)-f?(E="bottom",b=v.top+f+m):(E="middle",b=Math.max((c-p)/2+e.pageYOffset,0),w=Math.max((l-h)/2+e.pageXOffset,0)),"top"===E||"bottom"===E?(w=d/2+v.left-h/2,y=w,w<T&&(w=T),w+h>l&&(w=l-h-T),g&&("top"===E?g.classList.add(u):g.classList.remove(u),y-=w,L=h/2-m/2+y,L=Math.max(Math.min(L,h-2*m-6),6),g.setAttribute("style","left:"+L+"px"))):"middle"===E&&g.setAttribute("style","display:none"),x(s,"block",b,w)}};t.createMask=function(e){var s=i.createElement("div");s.classList.add(r),s.addEventListener(t.EVENT_MOVE,t.preventDefault),s.addEventListener("tap",function(){n.close()});var n=[s];return n._show=!1,n.show=function(){return n._show=!0,s.setAttribute("style","opacity:1"),i.body.appendChild(s),n},n._remove=function(){return n._show&&(n._show=!1,s.setAttribute("style","opacity:0"),t.later(function(){var t=i.body;s.parentNode===t&&t.removeChild(s)},350)),n},n.close=function(){e?e()!==!1&&n._remove():n._remove()},n},t.fn.popover=function(){var e=arguments;this.each(function(){t.targets._popover=this,"show"!==e[0]&&"hide"!==e[0]&&"toggle"!==e[0]||y(this,e[1],e[0])})}}(shopex,window,document,"popover"),function(t,e,i,s,n){var a=t.className("control-item"),o=t.className("segmented-control"),r=t.className("segmented-control-vertical"),l=t.className("control-content"),c=t.className("bar-tab"),h=t.className("tab-item"),p=(t.className("slider-item"),function(t,e){return!(!e.classList||!e.classList.contains(a)&&!e.classList.contains(h))&&(e.parentNode&&e.parentNode.classList&&e.parentNode.classList.contains(r)||t.preventDefault(),e)});t.registerTarget({name:s,index:80,handle:p,target:!1}),e.addEventListener("tap",function(e){var n=t.targets.tab;if(n){for(var r,p,u,d=t.className("active"),f="."+d,v=n.parentNode;v&&v!==i;v=v.parentNode){if(v.classList.contains(o)){r=v.querySelector(f+"."+a);break}v.classList.contains(c)&&(r=v.querySelector(f+"."+h))}r&&r.classList.remove(d);var g=n===r;if(n&&n.classList.add(d),n.hash&&(u=i.getElementById(n.hash.replace("#","")))){if(!u.classList.contains(l))return void n.classList[g?"remove":"add"](d);if(!g){var m=u.parentNode;p=m.querySelectorAll("."+l+f);for(var b=0;b<p.length;b++){var w=p[b];w.parentNode===m&&w.classList.remove(d)}u.classList.add(d);for(var y=[],x=m.querySelectorAll("."+l),b=0;b<x.length;b++)x[b].parentNode===m&&y.push(x[b]);t.trigger(u,t.eventName("shown",s),{tabNumber:Array.prototype.indexOf.call(y,u)}),e.detail&&e.detail.gesture.preventDefault()}}}})}(shopex,window,document,"tab"),function(t,e,i){var s="shopex-switch",n="shopex-switch-handle",a="shopex-active",o="shopex-dragging",r="shopex-disabled",l="."+n,c=function(t,e){return!(!e.classList||!e.classList.contains(s))&&e};t.registerTarget({name:i,index:100,handle:c,target:!1});var h=function(t){this.element=t,this.classList=this.element.classList,this.handle=this.element.querySelector(l),this.init(),this.initEvent()};h.prototype.init=function(){this.toggleWidth=this.element.offsetWidth,this.handleWidth=this.handle.offsetWidth,this.handleX=this.toggleWidth-this.handleWidth-3},h.prototype.initEvent=function(){this.element.addEventListener(t.EVENT_START,this),this.element.addEventListener("drag",this),this.element.addEventListener("swiperight",this),this.element.addEventListener(t.EVENT_END,this),this.element.addEventListener(t.EVENT_CANCEL,this)},h.prototype.handleEvent=function(e){if(!this.classList.contains(r))switch(e.type){case t.EVENT_START:this.start(e);break;case"drag":this.drag(e);break;case"swiperight":this.swiperight();break;case t.EVENT_END:case t.EVENT_CANCEL:this.end(e)}},h.prototype.start=function(t){this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s",this.classList.add(o),0!==this.toggleWidth&&0!==this.handleWidth||this.init()},h.prototype.drag=function(t){var e=t.detail;this.isDragging||"left"!==e.direction&&"right"!==e.direction||(this.isDragging=!0,this.lastChanged=void 0,this.initialState=this.classList.contains(a)),this.isDragging&&(this.setTranslateX(e.deltaX),t.stopPropagation(),e.gesture.preventDefault())},h.prototype.swiperight=function(t){this.isDragging&&t.stopPropagation()},h.prototype.end=function(e){this.classList.remove(o),this.isDragging?(this.isDragging=!1,e.stopPropagation(),t.trigger(this.element,"toggle",{isActive:this.classList.contains(a)})):this.toggle()},h.prototype.toggle=function(e){var i=this.classList;e===!1?this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration="0s":this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s",i.contains(a)?(i.remove(a),this.handle.style.webkitTransform="translate(0,0)"):(i.add(a),this.handle.style.webkitTransform="translate("+this.handleX+"px,0)"),t.trigger(this.element,"toggle",{isActive:this.classList.contains(a)})},h.prototype.setTranslateX=t.animationFrame(function(t){if(this.isDragging){var e=!1;(this.initialState&&-t>this.handleX/2||!this.initialState&&t>this.handleX/2)&&(e=!0),this.lastChanged!==e&&(e?(this.handle.style.webkitTransform="translate("+(this.initialState?0:this.handleX)+"px,0)",this.classList[this.initialState?"remove":"add"](a)):(this.handle.style.webkitTransform="translate("+(this.initialState?this.handleX:0)+"px,0)",this.classList[this.initialState?"add":"remove"](a)),this.lastChanged=e)}}),t.fn["switch"]=function(e){var i=[];return this.each(function(){var e=null,s=this.getAttribute("data-switch");s?e=t.data[s]:(s=++t.uuid,t.data[s]=new h(this),this.setAttribute("data-switch",s)),i.push(e)}),i.length>1?i:i[0]},t.ready(function(){t("."+s)["switch"]()})}(shopex,window,"toggle"),function(t,e,i){function s(t,e){var i=e?"removeEventListener":"addEventListener";t[i]("drag",P),t[i]("dragend",P),t[i]("swiperight",P),t[i]("swipeleft",P),t[i]("flick",P)}var n,a,o="shopex-active",r="shopex-selected",l="shopex-grid-view",c="shopex-table-view-radio",h="shopex-table-view-cell",p="shopex-collapse-content",u="shopex-disabled",d="shopex-switch",f="shopex-btn",v="shopex-slider-handle",g="shopex-slider-left",m="shopex-slider-right",b="shopex-transitioning",w="."+v,y="."+g,x="."+m,L="."+r,T="."+f,E=.8,N=isOpened=openedActions=progress=!1,S=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,_=translateX=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0,k=function(t){t?a?a.classList.add(o):n&&n.classList.add(o):(_&&_.cancel(),a?a.classList.remove(o):n&&n.classList.remove(o))},C=function(){if(translateX!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=translateX/sliderActionRightWidth,translateX<-sliderActionRightWidth&&(translateX=-sliderActionRightWidth-Math.pow(-translateX-sliderActionRightWidth,E));for(var t=0,e=buttonsRight.length;t<e;t++){var i=buttonsRight[t];"undefined"==typeof i._buttonOffset&&(i._buttonOffset=i.offsetLeft),buttonOffset=i._buttonOffset,A(i,translateX-buttonOffset*(1+Math.max(progress,-1)))}}if(buttonsLeft&&buttonsLeft.length>0){progress=translateX/sliderActionLeftWidth,translateX>sliderActionLeftWidth&&(translateX=sliderActionLeftWidth+Math.pow(translateX-sliderActionLeftWidth,E));for(var t=0,e=buttonsLeft.length;t<e;t++){var s=buttonsLeft[t];"undefined"==typeof s._buttonOffset&&(s._buttonOffset=sliderActionLeftWidth-s.offsetLeft-s.offsetWidth),buttonOffset=s._buttonOffset,buttonsLeft.length>1&&(s.style.zIndex=buttonsLeft.length-t),A(s,translateX+buttonOffset*(1-Math.min(progress,1)))}}A(S,translateX),lastTranslateX=translateX}sliderRequestAnimationFrame=requestAnimationFrame(function(){C()})},A=function(t,e){t&&(t.style.webkitTransform="translate("+e+"px,0)")};e.addEventListener(t.EVENT_START,function(e){n&&k(!1),n=a=!1,N=isOpened=openedActions=!1;for(var o=e.target,r=!1;o&&o!==i;o=o.parentNode)if(o.classList){var v=o.classList;if(("INPUT"===o.tagName&&"radio"!==o.type&&"checkbox"!==o.type||"BUTTON"===o.tagName||v.contains(d)||v.contains(f)||v.contains(u))&&(r=!0),v.contains(p))break;if(v.contains(h)){n=o;var g=n.parentNode.querySelector(L);if(!n.parentNode.classList.contains(c)&&g&&g!==n)return t.swipeoutClose(g),void(n=r=!1);if(!n.parentNode.classList.contains(l)){var m=n.querySelector("a");m&&m.parentNode===n&&(a=m)}var b=n.querySelector(w);b&&(s(n),e.stopPropagation()),r||(b?(_&&_.cancel(),_=t.later(function(){k(!0)},100)):k(!0));break}}}),e.addEventListener(t.EVENT_MOVE,function(t){k(!1)});var P={handleEvent:function(t){switch(t.type){case"drag":this.drag(t);break;case"dragend":this.dragend(t);break;case"flick":this.flick(t);break;case"swiperight":this.swiperight(t);break;case"swipeleft":this.swipeleft(t)}},drag:function(t){if(n){N||(S=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,
S=n.querySelector(w),S&&(sliderActionLeft=n.querySelector(y),sliderActionRight=n.querySelector(x),sliderActionLeft&&(sliderActionLeftWidth=sliderActionLeft.offsetWidth,buttonsLeft=sliderActionLeft.querySelectorAll(T)),sliderActionRight&&(sliderActionRightWidth=sliderActionRight.offsetWidth,buttonsRight=sliderActionRight.querySelectorAll(T)),n.classList.remove(b),isOpened=n.classList.contains(r),isOpened&&(openedActions=n.querySelector(y+L)?"left":"right")));var e=t.detail,i=e.direction,s=e.angle;if("left"===i&&(s>150||s<-150)?(buttonsRight||buttonsLeft&&isOpened)&&(N=!0):"right"===i&&s>-30&&s<30&&(buttonsLeft||buttonsRight&&isOpened)&&(N=!0),N){t.stopPropagation(),t.detail.gesture.preventDefault();var a=t.detail.deltaX;if(isOpened&&("right"===openedActions?a-=sliderActionRightWidth:a+=sliderActionLeftWidth),a>0&&!buttonsLeft||a<0&&!buttonsRight){if(!isOpened)return;a=0}a<0?sliderDirection="toLeft":a>0?sliderDirection="toRight":sliderDirection||(sliderDirection="toLeft"),sliderRequestAnimationFrame||C(),translateX=a}}},flick:function(t){N&&t.stopPropagation()},swipeleft:function(t){N&&t.stopPropagation()},swiperight:function(t){N&&t.stopPropagation()},dragend:function(e){if(N){e.stopPropagation(),sliderRequestAnimationFrame&&(cancelAnimationFrame(sliderRequestAnimationFrame),sliderRequestAnimationFrame=null);var i=e.detail;N=!1;var s="close",a="toLeft"===sliderDirection?sliderActionRightWidth:sliderActionLeftWidth,o=i.swipe||Math.abs(translateX)>a/2;o&&(isOpened?"left"===i.direction&&"right"===openedActions?s="open":"right"===i.direction&&"left"===openedActions&&(s="open"):s="open"),n.classList.add(b);var l;if("open"===s){var c="toLeft"===sliderDirection?-a:a;if(A(S,c),l="toLeft"===sliderDirection?buttonsRight:buttonsLeft,"undefined"!=typeof l){for(var h=null,p=0;p<l.length;p++)h=l[p],A(h,c);h.parentNode.classList.add(r),n.classList.add(r),isOpened||t.trigger(n,"toLeft"===sliderDirection?"slideleft":"slideright")}}else A(S,0),sliderActionLeft&&sliderActionLeft.classList.remove(r),sliderActionRight&&sliderActionRight.classList.remove(r),n.classList.remove(r);var u;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==l)for(var p=0,d=buttonsLeft.length;p<d;p++){var f=buttonsLeft[p];u=f._buttonOffset,"undefined"==typeof u&&(f._buttonOffset=sliderActionLeftWidth-f.offsetLeft-f.offsetWidth),A(f,u)}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==l)for(var p=0,d=buttonsRight.length;p<d;p++){var v=buttonsRight[p];u=v._buttonOffset,"undefined"==typeof u&&(v._buttonOffset=v.offsetLeft),A(v,-u)}}}};t.swipeoutOpen=function(e,i){if(e){var s=e.classList;if(!s.contains(r)){i||(i=e.querySelector(x)?"right":"left");var n=e.querySelector(t.classSelector(".slider-"+i));if(n){n.classList.add(r),s.add(r),s.remove(b);for(var a,o=n.querySelectorAll(T),l=n.offsetWidth,c="right"===i?-l:l,h=o.length,p=0;p<h;p++)a=o[p],"right"===i?A(a,-a.offsetLeft):A(a,l-a.offsetWidth-a.offsetLeft);s.add(b);for(var p=0;p<h;p++)A(o[p],c);A(e.querySelector(w),c)}}}},t.swipeoutClose=function(e){if(e){var i=e.classList;if(i.contains(r)){var s=e.querySelector(x+L)?"right":"left",n=e.querySelector(t.classSelector(".slider-"+s));if(n){n.classList.remove(r),i.remove(r),i.add(b);var a,o=n.querySelectorAll(T),l=n.offsetWidth,c=o.length;A(e.querySelector(w),0);for(var h=0;h<c;h++)a=o[h],"right"===s?A(a,-a.offsetLeft):A(a,l-a.offsetWidth-a.offsetLeft)}}}},e.addEventListener(t.EVENT_END,function(t){n&&(k(!1),S&&s(n,!0))}),e.addEventListener(t.EVENT_CANCEL,function(t){n&&(k(!1),S&&s(n,!0))});var R=function(e){var i=e.target&&e.target.type||"";if("radio"!==i&&"checkbox"!==i){var s=n.classList;if(s.contains("shopex-radio")){var a=n.querySelector("input[type=radio]");a&&(a.disabled||a.readOnly||(a.checked=!a.checked,t.trigger(a,"change")))}else if(s.contains("shopex-checkbox")){var a=n.querySelector("input[type=checkbox]");a&&(a.disabled||a.readOnly||(a.checked=!a.checked,t.trigger(a,"change")))}}};e.addEventListener(t.EVENT_CLICK,function(t){n&&n.classList.contains("shopex-collapse")&&t.preventDefault()}),e.addEventListener("doubletap",function(t){n&&R(t)});var X=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;e.addEventListener("tap",function(e){if(n){var i=!1,s=n.classList,a=n.parentNode;if(a&&a.classList.contains(c)){if(s.contains(r))return;var l=a.querySelector("li"+L);return l&&l.classList.remove(r),s.add(r),void t.trigger(n,"selected",{el:n})}if(s.contains("shopex-collapse")&&!n.parentNode.classList.contains("shopex-unfold")){if(X.test(e.target.tagName)||e.detail.gesture.preventDefault(),!s.contains(o)){var h=n.parentNode.querySelector(".shopex-collapse.shopex-active");h&&h.classList.remove(o),i=!0}s.toggle(o),i&&t.trigger(n,"expand")}else R(e)}})}(shopex,window,document),function(t,e){t.alert=function(i,s,n,a){if(t.os.plus){if("undefined"==typeof i)return;"function"==typeof s?(a=s,s=null,n="确定"):"function"==typeof n&&(a=n,n=null),t.plusReady(function(){plus.nativeUI.alert(i,a,s,n)})}else e.alert(i)}}(shopex,window),function(t,e){t.confirm=function(i,s,n,a){if(t.os.plus){if("undefined"==typeof i)return;"function"==typeof s?(a=s,s=null,n=null):"function"==typeof n&&(a=n,n=null),t.plusReady(function(){plus.nativeUI.confirm(i,a,s,n)})}else a(e.confirm(i)?{index:0}:{index:1})}}(shopex,window),function(t,e){t.prompt=function(i,s,n,a,o){if(t.os.plus){if("undefined"==typeof message)return;"function"==typeof s?(o=s,s=null,n=null,a=null):"function"==typeof n?(o=n,n=null,a=null):"function"==typeof a&&(o=a,a=null),t.plusReady(function(){plus.nativeUI.prompt(i,o,n,s,a)})}else{var r=e.prompt(i);o(r?{index:0,value:r}:{index:1,value:""})}}}(shopex,window),function(t,e){var i="shopex-active";t.toast=function(e,s,n){if(t.os.plus)t.plusReady(function(){plus.nativeUI.toast(e,{verticalAlign:"bottom"})});else{var a=document.createElement("div");a.classList.add("shopex-toast-container"),a.innerHTML='<div class="shopex-toast-message">'+e+"</div>",a.addEventListener("webkitTransitionEnd",function(){a.classList.contains(i)||a.parentNode.removeChild(a)}),document.body.appendChild(a),a.offsetHeight,a.classList.add(i),setTimeout(function(){a.classList.remove(i),"function"==typeof s&&s()},"number"==typeof n&&1e3*n||2e3)}}}(shopex,window),function(t,e,i){var s=t.className("popup"),n=t.className("popup-backdrop"),a=t.className("popup-in"),o=t.className("popup-out"),r=t.className("popup-inner"),l=t.className("popup-title"),c=t.className("popup-text"),h=t.className("popup-input"),p=t.className("popup-buttons"),u=t.className("popup-button"),d=t.className("popup-button-bold"),n=t.className("popup-backdrop"),f=t.className("active"),v=[],g=function(){var e=i.createElement("div");return e.classList.add(n),e.addEventListener(t.EVENT_MOVE,t.preventDefault),e.addEventListener("webkitTransitionEnd",function(){this.classList.contains(f)||e.parentNode&&e.parentNode.removeChild(e)}),e}(),m=function(t){return'<div class="'+h+'"><input type="text" autofocus placeholder="'+(t||"")+'"/></div>'},b=function(t,e,i){return'<div class="'+r+'"><div class="'+l+'">'+e+'</div><div class="'+c+'">'+t.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>")+"</div>"+(i||"")+"</div>"},w=function(t){for(var e=t.length,i=[],s=0;s<e;s++)i.push('<span class="'+u+(s===e-1?" "+d:"")+'">'+t[s]+"</span>");return'<div class="'+p+'">'+i.join("")+"</div>"},y=function(e,n){var r=i.createElement("div");r.className=s,r.innerHTML=e;var l=function(){r.parentNode&&r.parentNode.removeChild(r),r=null};r.addEventListener(t.EVENT_MOVE,t.preventDefault),r.addEventListener("webkitTransitionEnd",function(t){r&&t.target===r&&r.classList.contains(o)&&l()}),r.style.display="block",i.body.appendChild(r),r.offsetHeight,r.classList.add(a),g.classList.contains(f)||(g.style.display="block",i.body.appendChild(g),g.offsetHeight,g.classList.add(f));var c=t.qsa("."+u,r),p=r.querySelector("."+h+" input"),d={element:r,close:function(t,e){r&&(n&&n({index:t||0,value:p&&p.value||""}),e!==!1?(r.classList.remove(a),r.classList.add(o)):l(),v.pop(),v.length?v[v.length-1].show(e):g.classList.remove(f))}},m=function(t){d.close(c.indexOf(t.target))};return t(r).on("tap","."+u,m),v.length&&v[v.length-1].hide(),v.push({close:d.close,show:function(t){r.style.display="block",r.offsetHeight,r.classList.add(a)},hide:function(){r.style.display="none",r.classList.remove(a)}}),d},x=function(e,i,s,n,a){if("undefined"!=typeof e)return"function"==typeof i?(n=i,a=s,i=null,s=null):"function"==typeof s&&(a=n,n=s,s=null),t.os.plus&&"div"!==a?plus.nativeUI.alert(e,n,i||"提示",s||"确定"):y(b(e,i||"提示")+w([s||"确定"]),n)},L=function(e,i,s,n,a){if("undefined"!=typeof e)return"function"==typeof i?(n=i,a=s,i=null,s=null):"function"==typeof s&&(a=n,n=s,s=null),t.os.plus&&"div"!==a?plus.nativeUI.confirm(e,n,i,s||["取消","确认"]):y(b(e,i||"提示")+w(s||["取消","确认"]),n)},T=function(e,i,s,n,a,o){if("undefined"!=typeof e)return"function"==typeof i?(a=i,o=s,i=null,s=null,n=null):"function"==typeof s?(a=s,o=n,s=null,n=null):"function"==typeof n&&(o=a,a=n,n=null),t.os.plus&&"div"!==o?plus.nativeUI.prompt(e,a,s||"提示",i,n||["取消","确认"]):y(b(e,s||"提示",m(i))+w(n||["取消","确认"]),a)},E=function(){return!!v.length&&(v[v.length-1].close(),!0)},N=function(){for(;v.length;)v[v.length-1].close()};t.closePopup=E,t.closePopups=N,t.alert=x,t.confirm=L,t.prompt=T}(shopex,window,document),function(t,e){var i=t.className("progressbar"),s=t.className("progressbar-in"),n=t.className("progressbar-out"),a=t.className("progressbar-infinite"),o=t.classSelector(".progressbar"),r=function(e){if(e=t(e||"body"),0!==e.length){if(e=e[0],e.classList.contains(i))return e;var s=e.querySelectorAll(o);if(s)for(var n=0,a=s.length;n<a;n++){var r=s[n];if(r.parentNode===e)return r}}},l=function(r,l,c){if("number"==typeof r&&(c=l,l=r,r="body"),r=t(r||"body"),0!==r.length){r=r[0];var p;if(r.classList.contains(i))p=r;else{var u=r.querySelectorAll(o+":not(."+n+")");if(u)for(var d=0,f=u.length;d<f;d++){var v=u[d];if(v.parentNode===r){p=v;break}}p?p.classList.add(s):(p=e.createElement("span"),p.className=i+" "+s+("undefined"!=typeof l?"":" "+a)+(c?" "+i+"-"+c:""),"undefined"!=typeof l&&(p.innerHTML="<span></span>"),r.appendChild(p))}return l&&h(r,l),p}},c=function(t){var e=r(t);if(e){var i=e.classList;i.contains(s)&&!i.contains(n)&&(i.remove(s),i.add(n),e.addEventListener("webkitAnimationEnd",function(){e.parentNode&&e.parentNode.removeChild(e),e=null}))}},h=function(t,e,i){"number"==typeof t&&(i=e,e=t,t=!1);var s=r(t);if(s&&!s.classList.contains(a)){e&&(e=Math.min(Math.max(e,0),100)),s.offsetHeight;var n=s.querySelector("span");if(n){var o=n.style;o.webkitTransform="translate3d("+(-100+e)+"%,0,0)","undefined"!=typeof i?o.webkitTransitionDuration=i+"ms":o.webkitTransitionDuration=""}return s}};t.fn.progressbar=function(t){var e=[];return t=t||{},this.each(function(){var i=this,s=i.shopex_plugin_progressbar;s?t&&s.setOptions(t):i.shopex_plugin_progressbar=s={options:t,setOptions:function(t){this.options=t},show:function(){return l(i,this.options.progress,this.options.color)},setProgress:function(t){return h(i,t)},hide:function(){return c(i)}},e.push(s)}),1===e.length?e[0]:e}}(shopex,document),function(t,e,i){var s=t.className("icon"),n=t.className("icon-clear"),a=t.className("icon-speech"),o=t.className("icon-search"),r=t.className("icon-eye"),l=t.className("input-row"),c=t.className("placeholder"),h=t.className("tooltip"),p=t.className("hidden"),u=t.className("focusin"),d="."+n,f="."+a,v="."+r,g="."+c,m="."+h,b=function(t){for(;t&&t!==i;t=t.parentNode)if(t.classList&&t.classList.contains(l))return t;return null},w=function(t,e){this.element=t,this.options=e||{actions:"clear"},~this.options.actions.indexOf("slider")?(this.sliderActionClass=h+" "+p,this.sliderActionSelector=m):(~this.options.actions.indexOf("clear")&&(this.clearActionClass=s+" "+n+" "+p,this.clearActionSelector=d),~this.options.actions.indexOf("speech")&&(this.speechActionClass=s+" "+a,this.speechActionSelector=f),~this.options.actions.indexOf("search")&&(this.searchActionClass=c,this.searchActionSelector=g),~this.options.actions.indexOf("password")&&(this.passwordActionClass=s+" "+r,this.passwordActionSelector=v)),this.init()};w.prototype.init=function(){this.initAction(),this.initElementEvent()},w.prototype.initAction=function(){var e=this,i=e.element.parentNode;i&&(e.sliderActionClass?e.sliderAction=e.createAction(i,e.sliderActionClass,e.sliderActionSelector):(e.searchActionClass&&(e.searchAction=e.createAction(i,e.searchActionClass,e.searchActionSelector),e.searchAction.addEventListener("tap",function(i){t.focus(e.element),i.stopPropagation()})),e.speechActionClass&&(e.speechAction=e.createAction(i,e.speechActionClass,e.speechActionSelector),e.speechAction.addEventListener("click",t.stopPropagation),e.speechAction.addEventListener("tap",function(t){e.speechActionClick(t)})),e.clearActionClass&&(e.clearAction=e.createAction(i,e.clearActionClass,e.clearActionSelector),e.clearAction.addEventListener("tap",function(t){e.clearActionClick(t)})),e.passwordActionClass&&(e.passwordAction=e.createAction(i,e.passwordActionClass,e.passwordActionSelector),e.passwordAction.addEventListener("tap",function(t){e.passwordActionClick(t)}))))},w.prototype.createAction=function(e,n,a){var r=e.querySelector(a);if(!r){var r=i.createElement("span");r.className=n,n===this.searchActionClass&&(r.innerHTML='<span class="'+s+" "+o+'"></span><span>'+this.element.getAttribute("placeholder")+"</span>",this.element.setAttribute("placeholder",""),this.element.value.trim()&&e.classList.add(t.className("active"))),e.insertBefore(r,this.element.nextSibling)}return r},w.prototype.initElementEvent=function(){var e=this.element;if(this.sliderActionClass){var i=this.sliderAction,s=null,n=function(){i.classList.remove(p);var t=e.offsetLeft,n=e.offsetWidth-28,a=i.offsetWidth,o=Math.abs(e.max-e.min),r=n/o*Math.abs(e.value-e.min);i.style.left=14+t+r-a/2+"px",i.innerText=e.value,s&&clearTimeout(s),s=setTimeout(function(){i.classList.add(p)},1e3)};e.addEventListener("input",n),e.addEventListener("tap",n),e.addEventListener(t.EVENT_MOVE,function(t){t.stopPropagation()})}else{if(this.clearActionClass){var a=this.clearAction;if(!a)return;t.each(["keyup","change","input","focus","cut","paste"],function(t,i){!function(t){e.addEventListener(t,function(){a.classList[e.value.trim()?"remove":"add"](p)})}(i)}),e.addEventListener("blur",function(){a.classList.add(p)})}this.searchActionClass&&(e.addEventListener("focus",function(){e.parentNode.classList.add(t.className("active"))}),e.addEventListener("blur",function(){e.value.trim()||e.parentNode.classList.remove(t.className("active"))}))}},w.prototype.setPlaceholder=function(t){if(this.searchActionClass){var e=this.element.parentNode.querySelector(g);e&&(e.getElementsByTagName("span")[1].innerText=t)}else this.element.setAttribute("placeholder",t)},w.prototype.passwordActionClick=function(e){"text"===this.element.type?this.element.type="password":this.element.type="text",this.passwordAction.classList.toggle(t.className("active")),e.preventDefault()},w.prototype.clearActionClick=function(e){var i=this;i.element.value="",t.focus(i.element),i.clearAction.classList.add(p),e.preventDefault()},w.prototype.speechActionClick=function(s){if(e.plus){var n=this,a=n.element.value;n.element.value="",i.body.classList.add(u),plus.speech.startRecognize({engine:"iFly"},function(e){n.element.value+=e,t.focus(n.element),plus.speech.stopRecognize(),t.trigger(n.element,"recognized",{value:n.element.value}),a!==n.element.value&&(t.trigger(n.element,"change"),t.trigger(n.element,"input"))},function(t){i.body.classList.remove(u)})}else alert("only for 5+");s.preventDefault()},t.fn.input=function(e){var i=[];return this.each(function(){var e=null,s=[],n=b(this.parentNode);if("range"===this.type&&n.classList.contains(t.className("input-range")))s.push("slider");else{var a=this.classList;a.contains(t.className("input-clear"))&&s.push("clear"),t.os.android&&t.os.stream||!a.contains(t.className("input-speech"))||s.push("speech"),a.contains(t.className("input-password"))&&s.push("password"),"search"===this.type&&n.classList.contains(t.className("search"))&&s.push("search")}var o=this.getAttribute("data-input-"+s[0]);if(o)e=t.data[o];else{o=++t.uuid,e=t.data[o]=new w(this,{actions:s.join(",")});for(var r=0,l=s.length;r<l;r++)this.setAttribute("data-input-"+s[r],o)}i.push(e)}),1===i.length?i[0]:i},t.ready(function(){t(t.classSelector(".input-row input")).input()})}(shopex,window,document),function(t){var e="ontouchstart"in document,i=e?"tap":"click",s="change",n="shopex-numbox",a=".shopex-btn-numbox-plus,.shopex-numbox-btn-plus",o=".shopex-btn-numbox-minus,.shopex-numbox-btn-minus",r=".shopex-input-numbox,.shopex-numbox-input",l=t.Numbox=t.Class.extend({init:function(e,i){var s=this;if(!e)throw"构造 numbox 时缺少容器元素";s.holder=e,i=i||{},i.step=parseInt(i.step||1),s.options=i,s.input=t.qsa(r,s.holder)[0],s.plus=t.qsa(a,s.holder)[0],s.minus=t.qsa(o,s.holder)[0],s.checkValue(),s.initEvent()},initEvent:function(){var e=this;e.plus.addEventListener(i,function(i){var n=parseInt(e.input.value)+e.options.step;e.input.value=n.toString(),t.trigger(e.input,s,null)}),e.minus.addEventListener(i,function(i){var n=parseInt(e.input.value)-e.options.step;e.input.value=n.toString(),t.trigger(e.input,s,null)}),e.input.addEventListener(s,function(i){e.checkValue();var n=parseInt(e.input.value);t.trigger(e.holder,s,{value:n})})},getValue:function(){var t=this;return parseInt(t.input.value)},checkValue:function(){var t=this,e=t.input.value;if(null==e||""==e||isNaN(e))t.input.value=t.options.min||0,t.minus.disabled=null!=t.options.min;else{var e=parseInt(e);null!=t.options.max&&!isNaN(t.options.max)&&e>=parseInt(t.options.max)?(e=t.options.max,t.plus.disabled=!0):t.plus.disabled=!1,null!=t.options.min&&!isNaN(t.options.min)&&e<=parseInt(t.options.min)?(e=t.options.min,t.minus.disabled=!0):t.minus.disabled=!1,t.input.value=e}},setOption:function(t,e){var i=this;i.options[t]=e}});t.fn.numbox=function(t){return this.each(function(t,e){if(!e.numbox)if(s)e.numbox=new l(e,s);else{var i=e.getAttribute("data-numbox-options"),s=i?JSON.parse(i):{};s.step=e.getAttribute("data-numbox-step")||s.step,s.min=e.getAttribute("data-numbox-min")||s.min,s.max=e.getAttribute("data-numbox-max")||s.max,e.numbox=new l(e,s)}}),this[0]?this[0].numbox:null},t.ready(function(){t("."+n).numbox()})}(shopex),function(t,e){var i=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,s=function(t){var e=t.match(i);return e&&5===e.length?[e[1],e[2],e[3],e[4]]:[]},n=function(e,i){this.element=e,this.options=t.extend({top:0,offset:150,duration:16},i||{}),this._style=this.element.style,this._bgColor=this._style.backgroundColor;var n=s(shopex.getStyles(this.element,"backgroundColor"));if(!n.length)throw new Error("元素背景颜色必须为RGBA");this._R=n[0],this._G=n[1],this._B=n[2],this._A=n[3],this._bufferFn=t.buffer(this.handleScroll,this.options.duration,this),this.initEvent()};n.prototype.initEvent=function(){e.addEventListener("scroll",this._bufferFn),e.addEventListener(t.EVENT_MOVE,this._bufferFn)},n.prototype.handleScroll=function(){this._style.backgroundColor="rgba("+this._R+","+this._G+","+this._B+","+(e.scrollY-this.options.top)/this.options.offset+")"},n.prototype.destory=function(){e.removeEventListener("scroll",this._bufferFn),e.removeEventListener(t.EVENT_MOVE,this._bufferFn),this.element.style.backgroundColor=this._bgColor,this.element.shopex_plugin_transparent=null},t.fn.transparent=function(t){t=t||{};var e=[];return this.each(function(){var i=this.shopex_plugin_transparent;if(!i){var s=this.getAttribute("data-top"),a=this.getAttribute("data-offset"),o=this.getAttribute("data-duration");null!==s&&"undefined"==typeof t.top&&(t.top=s),null!==a&&"undefined"==typeof t.offset&&(t.offset=a),null!==o&&"undefined"==typeof t.duration&&(t.duration=o),i=this.shopex_plugin_transparent=new n(this,t)}e.push(i)}),1===e.length?e[0]:e},t.ready(function(){t(t.classSelector(".bar-transparent")).transparent()})}(shopex,window),function(t,e){var i=t.className("left"),s=t.className("center"),n=t.className("right"),a=t.className("page"),o=t.className("page-left"),r=t.className("page-center"),l=t.className("navbar-left"),c=t.className("navbar-center"),h=t.className("page-shadow"),p=t.className("transitioning"),u="."+i,d="."+s,f="."+n,v=t.classSelector(".icon"),g=t.classSelector(".navbar"),m=t.classSelector(".navbar-inner"),b=t.classSelector(".pages"),w=t.classSelector(".btn-nav"),y="."+o,x="."+r,L="."+l,T="."+c,E=t.Class.extend({init:function(e,i){this.view=this.element=e,this.options=t.extend({animateNavbar:"ios",swipeBackPageActiveArea:30,hardwareAccelerated:!0},i),this.navbars=this.view.querySelector(g),this.pages=this.view.querySelector(b),this.history=[],this.maxScrollX=this.view.offsetWidth,this.x=this.y=0,this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"",this.ratio=0,this.isBack=!0,this.moved=this.dragging=!1,this.activeNavbar=this.previousNavbar=null,this.activePage=this.previousPage=null,this._initPageEventMethod(),this._initDefaultPage(),this.navbars&&this._initNavBar(),this.initEvent()},_initPageEventMethod:function(){var e=this;t.each(["onPageBeforeShow","onPageShow","onPageBeforeBack","onPageBack"],function(t,i){e[i+"Callbacks"]={},e[i]=function(t,s){var n=i+"Callbacks";e[n].hasOwnProperty(t)?e[n][t].push(s):e[n][t]=[s]}})},_initDefaultPage:function(){var t=document.querySelector(this.options.defaultPage);if(!t)throw new Error("defaultPage["+this.options.defaultPage+"] does not exist");this._appendPage(t)},initEvent:function(){this.view.addEventListener("click",this),this.view.addEventListener("tap",this),this.pages.addEventListener("drag",this),this.pages.addEventListener("dragend",this),this.pages.addEventListener("webkitTransitionEnd",this)},handleEvent:function(t){switch(t.type){case"click":this._click(t);break;case"tap":this._tap(t);break;case"drag":this._drag(t);break;case"dragend":this._dragend(t);break;case"webkitTransitionEnd":this._webkitTransitionEnd(t)}},shadow:function(){var t=document.createElement("div");return t.className=h,t}(),_removePage:function(t,e){e&&this._removeNavbar(t,e),document.body.appendChild(t),this._cleanPageClass(t)},_prependPage:function(t){var e=t.querySelector(m);e&&this._prependNavbar(e),t.classList.add(o),this.pages.insertBefore(t,this.pages.firstElementChild)},_appendPage:function(t){var e=t.querySelector(m);e&&this._appendNavbar(e),t.classList.add(r),this.pages.appendChild(t)},_removeNavbar:function(t,e){t.insertBefore(e,t.firstElementChild),this._cleanNavbarClass(e)},_prependNavbar:function(t){t.classList.add(l),this.navbars.insertBefore(t,this.navbars.firstElementChild)},_appendNavbar:function(t){t.classList.add(c),this.navbars.appendChild(t)},_cleanPageClass:function(t){t.classList.remove(r),t.classList.remove(o)},_cleanNavbarClass:function(t){t.classList.remove(c),t.classList.remove(l)},_tap:function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)if("A"===e.tagName&&e.hash){var i=document.getElementById(e.hash.replace("#",""));if(i&&i.classList.contains(a)){t.stopPropagation(),t.detail.gesture.preventDefault(),this.go(e.hash);break}}},_click:function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)if("A"===e.tagName&&e.hash){var i=document.getElementById(e.hash.replace("#",""));if(i&&i.classList.contains(a)){t.preventDefault();break}}},_cleanStyle:function(t){t&&(t.style.webkitTransform="",t.style.opacity="")},_isAnimateNavbarIOS:function(){return t.os.ios&&"ios"===this.options.animateNavbar},_webkitTransitionEnd:function(e){if(this.dragging=this.moved=!1,this.activePage===e.target){this.isInTransition=!1,this.shadow.parentNode===this.activePage&&this.activePage.removeChild(this.shadow),this.previousPageClassList.remove(p),this.activePageClassList.remove(p);var i=this;if(this._isAnimateNavbarIOS()&&this.previousNavElements&&this.activeNavElements){var s=this.isBack;t.each(this.previousNavElements,function(t,e){e.classList.remove(p),s&&i._cleanStyle(e)}),t.each(this.activeNavElements,function(t,e){e.classList.remove(p),i._cleanStyle(e)}),this.previousNavBackIcon&&(this.previousNavBackIcon.classList.remove(p),s&&this._cleanStyle(this.previousNavBackIcon)),this.activeNavBackIcon&&(this.activeNavBackIcon.classList.remove(p),this._cleanStyle(this.activeNavBackIcon))}else this.previousNavbar&&this.previousNavbar.classList.remove(p),this.activeNavbar&&this.activeNavbar.classList.remove(p),this._cleanStyle(this.previousNavbar),this._cleanStyle(this.activeNavbar);this._cleanStyle(this.previousPage),this._cleanStyle(this.activePage),this.ratio<=.5||(this.isBack?(this._removePage(this.activePage,this.activeNavbar),this.previousPageClassList.remove(o),this.previousPageClassList.add(r),this.previousNavbar&&(this.previousNavbar.classList.remove(l),this.previousNavbar.classList.add(c)),this.history.length>0&&this._prependPage(this.history.pop()),this.navbars&&this._initNavBar(),this._trigger("pageBack",this.activePage),this._trigger("pageShow",this.previousPage)):(this.previousPageClassList.add(o),this.activePageClassList.add(r),this._trigger("pageShow",this.activePage)))}},_trigger:function(e,i){var s="on"+e.charAt(0).toUpperCase()+e.slice(1)+"Callbacks";if(this[s].hasOwnProperty(i.id))for(var n=this[s][i.id],a=new CustomEvent(e,{detail:{page:i},bubbles:!0,cancelable:!0}),o=n.length;o--;)n[o].apply(this,a);t.trigger(this.view,e,{page:i})},_initPageTransform:function(){return this.previousPage=this.pages.querySelector(y),this.activePage=this.pages.querySelector(x),!(!this.previousPage||!this.activePage)&&(this.activePage.appendChild(this.shadow),this.previousPageClassList=this.previousPage.classList,this.activePageClassList=this.activePage.classList,this.previousPageStyle=this.previousPage.style,this.activePageStyle=this.activePage.style,this.previousPageClassList.remove(p),this.activePageClassList.remove(p),this.navbars&&(this.previousNavbar=this.navbars.querySelector(L),this.activeNavbar=this.navbars.querySelector(T),this._isAnimateNavbarIOS()&&this.previousNavbar&&this.activeNavbar&&(this.previousNavElements=this.previousNavbar.querySelectorAll(u+","+d+","+f),this.activeNavElements=this.activeNavbar.querySelectorAll(u+","+d+","+f),this.previousNavBackIcon=this.previousNavbar.querySelector(u+w+" "+v),this.activeNavBackIcon=this.activeNavbar.querySelector(u+w+" "+v))),this.x=0,this.dragging=!0,!0)},_initNavBar:function(){if(this._isAnimateNavbarIOS()&&this.navbars)for(var t,e,i,s,n,a,o,r,l,c,h,p=this.navbars.querySelectorAll(m),v=0,g=p.length;v<g;v++){t=p[v],e=t.querySelector(u),i=t.querySelector(f),s=t.querySelector(d),r=!e,noRight=!i,n=r?0:e.offsetWidth,a=noRight?0:i.offsetWidth,o=s?s.offsetWidth:0,h=this.maxScrollX,onLeft=t.classList.contains("navbar-left"),noRight&&(l=h-o),r&&(l=0),r||noRight||(l=(h-a-o+n)/2);var b=(h-o)/2;h-n-a>o?(b<n&&(b=n),b+o>h-a&&(b=h-a-o),c=b-l):c=0;s&&(s.mNavbarLeftOffset=-(l+c)+30,s.mNavbarRightOffset=h-l-c-o),onLeft&&(s.style.webkitTransform="translate3d("+s.mNavbarLeftOffset+"px, 0, 0)"),r||(e.mNavbarLeftOffset=-n,e.mNavbarRightOffset=(h-n)/2,onLeft&&(e.style.webkitTransform="translate3d("+e[0].mNavbarLeftOffset+"px, 0, 0)")),noRight||(i.mNavbarLeftOffset=-(h-a)/2,i.mNavbarRightOffset=a,onLeft&&(i.style.webkitTransform="translate3d("+i[0].mNavbarLeftOffset+"px, 0, 0)"))}},_drag:function(e){if(!this.isInTransition){var i=e.detail;if(this.dragging||t.gestures.session.firstTouch.center.x-this.view.offsetLeft<this.options.swipeBackPageActiveArea&&(this.isBack=!0,this._initPageTransform()),this.dragging){var s=0;this.moved?s=i.deltaX-(t.gestures.session.prevTouch&&t.gestures.session.prevTouch.deltaX||0):(s=i.deltaX,t.gestures.session.lockDirection=!0,t.gestures.session.startDirection=i.direction);var n=this.x+s;(n<0||n>this.maxScrollX)&&(n=n<0?0:this.maxScrollX),e.stopPropagation(),i.gesture.preventDefault(),this.requestAnimationFrame||this._updateTranslate(),this.moved=!0,this.x=n,this.y=0}}},_dragend:function(e){if(this.moved){e.stopPropagation();e.detail;return this._clearRequestAnimationFrame(),this._prepareTransition(),this.ratio=this.x/this.maxScrollX,1===this.ratio||0===this.ratio?void t.trigger(this.activePage,"webkitTransitionEnd"):void(this.ratio>.5?this.setTranslate(this.maxScrollX,0):(this._cleanStyle(this.previousPage),this._cleanStyle(this.activePage)))}},_prepareTransition:function(){this.isInTransition=!0,this.previousPageClassList.add(p),this.activePageClassList.add(p);var e=this;this.previousNavbar&&this.activeNavbar&&(this.previousNavbar.classList.add(p),this.activeNavbar.classList.add(p),this._isAnimateNavbarIOS()&&this.previousNavElements&&this.activeNavElements&&(t.each(this.previousNavElements,function(t,i){i.classList.add(p),e._cleanStyle(i)}),t.each(this.activeNavElements,function(t,i){i.classList.add(p),e._cleanStyle(i)}),this.previousNavBackIcon&&(this._cleanStyle(this.previousNavBackIcon),this.previousNavBackIcon.classList.add(p)),this.activeNavBackIcon&&(this._cleanStyle(this.activeNavBackIcon),this.activeNavBackIcon.classList.add(p))))},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_getTranslateStr:function(t,e){return this.options.hardwareAccelerated?"translate3d("+t+"px,"+e+"px,0px) "+this.translateZ:"translate("+t+"px,"+e+"px) "},_updateTranslate:function(){var t=this;t.x===t.lastX&&t.y===t.lastY||t.setTranslate(t.x,t.y),t.requestAnimationFrame=requestAnimationFrame(function(){t._updateTranslate()})},_setNavbarTranslate:function(t,e){var i=t/this.maxScrollX;this._isAnimateNavbarIOS()?this.previousNavElements&&this.activeNavElements&&this.animateNavbarByIOS(i):(this.activeNavbar.style.opacity=1-1.3*i,this.previousNavbar.style.opacity=1.3*i-.3)},animateNavbarByIOS:function(t){var e,s,a,o;for(e=0,s=this.activeNavElements.length;e<s;e++)if(o=this.activeNavElements[e],a=o.style,a.opacity=1-t*(o.classList.contains(i)?3.5:1.3),!o.classList.contains(n)){var r=t*o.mNavbarRightOffset;o.style.webkitTransform="translate3d("+r+"px,0,0)",o.classList.contains(i)&&this.activeNavBackIcon&&(this.activeNavBackIcon.style.webkitTransform="translate3d("+-r+"px,0,0)")}for(e=0,s=this.previousNavElements.length;e<s;e++)if(o=this.previousNavElements[e],a=o.style,a.opacity=1.3*t-.3,!o.classList.contains(n)){var l=o.mNavbarLeftOffset*(1-t);o.style.webkitTransform="translate3d("+l+"px,0,0)",o.classList.contains(i)&&this.previousNavBackIcon&&(this.previousNavBackIcon.style.webkitTransform="translate3d("+-l+"px,0,0)")}},setTranslate:function(t,e){this.x=t,this.y=e,this.previousPage.style.opacity=.9+.1*t/this.maxScrollX,this.previousPage.style.webkitTransform=this._getTranslateStr(t/6-this.maxScrollX/6,e),this.activePage.style.webkitTransform=this._getTranslateStr(t,e),this.navbars&&this._setNavbarTranslate(t,e),this.lastX=this.x,this.lastY=this.y},canBack:function(){return this.pages.querySelector(y)},back:function(){this.isInTransition||(this.isBack=!0,this.ratio=1,this._initPageTransform()&&(this._trigger("pageBeforeBack",this.activePage),this._trigger("pageBeforeShow",this.previousPage),this._prepareTransition(),this.previousPage.offsetHeight,this.activePage.offsetHeight,this.setTranslate(this.maxScrollX,0)))},go:function(t){if(!this.isInTransition){var e=document.querySelector(t);if(e){var i,s,n=this.pages.querySelector(y),a=this.pages.querySelector(x);this.navbars&&(i=this.navbars.querySelector(L),s=this.navbars.querySelector(T)),s&&(s.classList.remove(c),s.classList.add(l)),n&&(this._removePage(n,i),this.history.push(n)),a&&(a.classList.remove(r),a.style.webkitTransform="translate3d(0,0,0)",a.classList.add(o)),e.style.webkitTransform="translate3d(100%,0,0)",this._appendPage(e),e.appendChild(this.shadow),e.offsetHeight,this.isBack=!1,this.ratio=1,this._initPageTransform(),this.navbars&&this._initNavBar(),this.navbars&&this._setNavbarTranslate(this.maxScrollX,0),this.previousPage.offsetHeight,this.activePage.offsetHeight,this.navbars&&(this.previousNavbar.offsetHeight,this.activeNavbar.offsetHeight),this._trigger("pageBeforeShow",this.activePage),this._prepareTransition(),this.setTranslate(0,0);
}}}});t.fn.view=function(e){var i=this[0];if(i){var s=null,n=i.getAttribute("data-view");return n?s=t.data[n]:(n=++t.uuid,t.data[n]=s=new E(i,e),i.setAttribute("data-view",n)),s}}}(shopex,window);