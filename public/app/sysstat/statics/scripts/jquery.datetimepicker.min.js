/*
 jQuery DateTimePicker plugin v2.1.9
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function(b){var f={i18n:{ru:{months:"Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь".split(" "),dayOfWeek:"Вск Пн Вт Ср Чт Пт Сб".split(" ")},en:{months:"January February March April May June July August September October November December".split(" "),dayOfWeek:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},de:{months:"Januar Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),dayOfWeek:"So Mo Di Mi Do Fr Sa".split(" ")},nl:{months:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),
dayOfWeek:"zo ma di wo do vr za".split(" ")},tr:{months:"Ocak Şubat Mart Nisan Mayıs Haziran Temmuz Ağustos Eylül Ekim Kasım Aralık".split(" "),dayOfWeek:"Paz Pts Sal Çar Per Cum Cts".split(" ")},fr:{months:"Janvier Février Mars Avril Mai Juin Juillet Août Septembre Octobre Novembre Décembre".split(" "),dayOfWeek:"Dim Lun Mar Mer Jeu Ven Sam".split(" ")},es:{months:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),dayOfWeek:"Dom Lun Mar Mié Jue Vie Sáb".split(" ")},
th:{months:"มกราคม กุมภาพันธ์ มีนาคม เมษายน พฤษภาคม มิถุนายน กรกฎาคม สิงหาคม กันยายน ตุลาคม พฤศจิกายน ธันวาคม".split(" "),dayOfWeek:"อา. จ. อ. พ. พฤ. ศ. ส.".split(" ")},pl:{months:"styczeń luty marzec kwiecień maj czerwiec lipiec sierpień wrzesień październik listopad grudzień".split(" "),dayOfWeek:"nd pn wt śr cz pt sb".split(" ")},pt:{months:"Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),dayOfWeek:"Dom Seg Ter Qua Qui Sex Sab".split(" ")},ch:{months:"一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),
dayOfWeek:"日一二三四五六".split("")},se:{months:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),dayOfWeek:"Sön Mån Tis Ons Tor Fre Lör".split(" ")},kr:{months:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),dayOfWeek:"일월화수목금토".split("")},it:{months:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),dayOfWeek:"Dom Lun Mar Mer Gio Ven Sab".split(" ")}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",
formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!1,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,
todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(b,f){for(var a=f||0,r=this.length;a<r;a++)if(this[a]===b)return a;return-1});b.fn.xdsoftScroller=function(f){return this.each(function(){var k=b(this);if(!b(this).hasClass("xdsoft_scroller_box")){var a=function(a){var b={x:0,y:0};
if("touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type)a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b.x=a.pageX,b.y=a.pageY;else if("mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)b.x=a.pageX,b.y=a.pageY;return b},r=0,c=k.children().eq(0),d=k[0].clientHeight,t=c[0].offsetHeight,w=b('<div class="xdsoft_scrollbar"></div>'),m=b('<div class="xdsoft_scroller"></div>'),
z=100,p=!1;w.append(m);k.addClass("xdsoft_scroller_box").append(w);m.on("mousedown.xdsoft_scroller",function(a){d||k.trigger("resize_scroll.xdsoft_scroller",[f]);var c=a.pageY,t=parseInt(m.css("margin-top")),p=w[0].offsetHeight;b(document.body).addClass("xdsoft_noselect");b([document.body,window]).on("mouseup.xdsoft_scroller",function y(){b([document.body,window]).off("mouseup.xdsoft_scroller",y).off("mousemove.xdsoft_scroller",r).removeClass("xdsoft_noselect")});b(document.body).on("mousemove.xdsoft_scroller",
r=function(a){a=a.pageY-c+t;0>a&&(a=0);a+m[0].offsetHeight>p&&(a=p-m[0].offsetHeight);k.trigger("scroll_element.xdsoft_scroller",[z?a/z:0])})});k.on("scroll_element.xdsoft_scroller",function(a,b){d||k.trigger("resize_scroll.xdsoft_scroller",[b,!0]);b=1<b?1:0>b||isNaN(b)?0:b;m.css("margin-top",z*b);c.css("marginTop",-parseInt((t-d)*b))}).on("resize_scroll.xdsoft_scroller",function(a,b,f){d=k[0].clientHeight;t=c[0].offsetHeight;a=d/t;var h=a*w[0].offsetHeight;1<a?m.hide():(m.show(),m.css("height",parseInt(10<
h?h:10)),z=w[0].offsetHeight-m[0].offsetHeight,!0!==f&&k.trigger("scroll_element.xdsoft_scroller",[b?b:Math.abs(parseInt(c.css("marginTop")))/(t-d)]))});k.mousewheel&&k.mousewheel(function(a,b,f,m){f=Math.abs(parseInt(c.css("marginTop")));k.trigger("scroll_element.xdsoft_scroller",[(f-20*b)/(t-d)]);a.stopPropagation();return!1});k.on("touchstart",function(b){p=a(b)});k.on("touchmove",function(b){if(p){var f=a(b),m=Math.abs(parseInt(c.css("marginTop")));k.trigger("scroll_element.xdsoft_scroller",[(m-
(f.y-p.y))/(t-d)]);b.stopPropagation();b.preventDefault()}});k.on("touchend touchcancel",function(a){p=!1})}k.trigger("resize_scroll.xdsoft_scroller",[f])})};b.fn.datetimepicker=function(h){var k=!1,a=b.isPlainObject(h)||!h?b.extend(!0,{},f,h):b.extend({},f),r=function(c){var d=b("<div "+(a.id?'id="'+a.id+'"':"")+" "+(a.style?'style="'+a.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+a.className+'"></div>'),f=b('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),
h=b('<div class="xdsoft_datepicker active"></div>'),m=b('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),r=b('<div class="xdsoft_calendar"></div>'),p=b('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),
s=p.find(".xdsoft_time_box").eq(0),q=b('<div class="xdsoft_time_variant"></div>'),F=b('<div class="xdsoft_scrollbar"></div>');b('<div class="xdsoft_scroller"></div>');var A=b('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),B=b('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');m.find(".xdsoft_month span").after(A);m.find(".xdsoft_year span").after(B);m.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(a){m.find(".xdsoft_select").hide();var e=b(this).find(".xdsoft_select").eq(0),
d=0,f=0;g.currentTime&&(d=g.currentTime[b(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]());e.show();for(var c=e.find("div.xdsoft_option"),n=0;n<c.length&&c.eq(n).data("value")!=d;n++)f+=c[0].offsetHeight;e.xdsoftScroller(f/(e.children()[0].offsetHeight-e[0].clientHeight));a.stopPropagation();return!1});m.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(l){if(g&&g.currentTime)g.currentTime[b(this).parent().parent().hasClass("xdsoft_monthselect")?
"setMonth":"setFullYear"](b(this).data("value"));b(this).parent().parent().hide();d.trigger("xchange.xdsoft");a.onChangeMonth&&a.onChangeMonth.call&&a.onChangeMonth.call(d,g.currentTime,d.data("input"))});d.setOptions=function(l){a=b.extend(!0,{},a,l);!a.open&&!a.opened||a.inline||c.trigger("open.xdsoft");a.inline&&(d.addClass("xdsoft_inline"),c.after(d).hide(),d.trigger("afterOpen.xdsoft"));a.inverseButton&&(a.next="xdsoft_prev",a.prev="xdsoft_next");a.datepicker?h.addClass("active"):h.removeClass("active");
a.timepicker?p.addClass("active"):p.removeClass("active");a.value&&(c&&c.val&&c.val(a.value),g.setCurrentTime(a.value));isNaN(a.dayOfWeekStart)||0>parseInt(a.dayOfWeekStart)||6<parseInt(a.dayOfWeekStart)?a.dayOfWeekStart=0:a.dayOfWeekStart=parseInt(a.dayOfWeekStart);a.timepickerScrollbar||F.hide();l=[];var e;a.minDate&&(l=/^-(.*)$/.exec(a.minDate))&&(l=Date.parseDate(l[1],a.formatDate))&&(e=l.getTime()+-6E4*l.getTimezoneOffset(),a.minDate=(new Date(g.now().getTime()-e)).dateFormat(a.formatDate));
a.maxDate&&(l=/^\+(.*)$/.exec(a.maxDate))&&(l=Date.parseDate(l[1],a.formatDate))&&(e=l.getTime()+-6E4*l.getTimezoneOffset(),a.maxDate=(new Date(g.now().getTime()+e)).dateFormat(a.formatDate));m.find(".xdsoft_today_button").css("visibility",a.todayButton?"visible":"hidden");if(a.mask){var f=function(a,b){var d=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");
return RegExp(d).test(b)};c.off("keydown.xdsoft");switch(!0){case !0===a.mask:a.mask=a.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case "string"==b.type(a.mask):f(a.mask,c.val())||c.val(a.mask.replace(/[0-9]/g,"_")),c.on("keydown.xdsoft",function(d){var e=this.value,l=d.which;switch(!0){case 48<=l&&57>=l||96<=l&&105>=l||8==l||46==l:var g;a:{try{if(document.selection&&document.selection.createRange){g=
document.selection.createRange().getBookmark().charCodeAt(2)-2;break a}else if(this.setSelectionRange){g=this.selectionStart;break a}}catch(m){g=0;break a}g=void 0}var h=8!=l&&46!=l?String.fromCharCode(96<=l&&105>=l?l-48:l):"_";8!=l&&46!=l||!g||(g--,h="_");for(;/[^0-9_]/.test(a.mask.substr(g,1))&&g<a.mask.length&&0<g;)g+=8==l||46==l?-1:1;e=e.substr(0,g)+h+e.substr(g+1);if(""==b.trim(e))e=a.mask.replace(/[0-9]/g,"_");else if(g==a.mask.length)break;for(g+=8==l||46==l?0:1;/[^0-9_]/.test(a.mask.substr(g,
1))&&g<a.mask.length&&0<g;)g+=8==l||46==l?-1:1;if(f(a.mask,e)){if(this.value=e,e=this,e="string"==typeof e||e instanceof String?document.getElementById(e):e)e.createTextRange?(e=e.createTextRange(),e.collapse(!0),e.moveEnd(g),e.moveStart(g),e.select()):e.setSelectionRange&&e.setSelectionRange(g,g)}else""==b.trim(e)?this.value=a.mask.replace(/[0-9]/g,"_"):c.trigger("error_input.xdsoft");break;case !!~[65,67,86,90,89].indexOf(l)&&k:case !!~[27,38,40,37,39,116,17,9,13].indexOf(l):return!0}d.preventDefault();
return!1})}}if(a.validateOnBlur)c.off("blur.xdsoft").on("blur.xdsoft",function(){a.allowBlank&&!b.trim(b(this).val()).length?(b(this).val(null),d.data("xdsoft_datetime").empty()):(Date.parseDate(b(this).val(),a.format)||b(this).val(g.now().dateFormat(a.format)),d.data("xdsoft_datetime").setCurrentTime(b(this).val()));d.trigger("changedatetime.xdsoft")});a.dayOfWeekStartPrev=0==a.dayOfWeekStart?6:a.dayOfWeekStart-1;d.trigger("xchange.xdsoft")};d.data("options",a).on("mousedown.xdsoft",function(a){a.stopPropagation();
a.preventDefault();B.hide();A.hide();return!1});var y=p.find(".xdsoft_time_box");y.append(q);y.xdsoftScroller();d.on("afterOpen.xdsoft",function(){y.xdsoftScroller()});d.append(h).append(p);!0!==a.withoutCopyright&&d.append(f);h.append(m).append(r);b("body").append(d);var g=new function(){var b=this;b.now=function(){var b=new Date;a.yearOffset&&b.setFullYear(b.getFullYear()+a.yearOffset);return b};b.currentTime=this.now();b.isValidDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?
!1:!isNaN(a.getTime())};b.setCurrentTime=function(a){b.currentTime="string"==typeof a?b.strtodatetime(a):b.isValidDate(a)?a:b.now();d.trigger("xchange.xdsoft")};b.empty=function(){b.currentTime=null};b.getCurrentTime=function(a){return b.currentTime};b.nextMonth=function(){var e=b.currentTime.getMonth()+1;12==e&&(b.currentTime.setFullYear(b.currentTime.getFullYear()+1),e=0);b.currentTime.setDate(Math.min(Date.daysInMonth[e],b.currentTime.getDate()));b.currentTime.setMonth(e);a.onChangeMonth&&a.onChangeMonth.call&&
a.onChangeMonth.call(d,g.currentTime,d.data("input"));d.trigger("xchange.xdsoft");return e};b.prevMonth=function(){var e=b.currentTime.getMonth()-1;-1==e&&(b.currentTime.setFullYear(b.currentTime.getFullYear()-1),e=11);b.currentTime.setDate(Math.min(Date.daysInMonth[e],b.currentTime.getDate()));b.currentTime.setMonth(e);a.onChangeMonth&&a.onChangeMonth.call&&a.onChangeMonth.call(d,g.currentTime,d.data("input"));d.trigger("xchange.xdsoft");return e};b.strtodatetime=function(e){e=e?Date.parseDate(e,
a.format):b.now();b.isValidDate(e)||(e=b.now());return e};b.strtodate=function(e){e=e?Date.parseDate(e,a.formatDate):b.now();b.isValidDate(e)||(e=b.now());return e};b.strtotime=function(e){e=e?Date.parseDate(e,a.formatTime):b.now();b.isValidDate(e)||(e=b.now());return e};b.str=function(){return b.currentTime.dateFormat(a.format)}};m.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){d.data("changed",!0);g.setCurrentTime(0);d.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){c.val(g.str());
d.trigger("close.xdsoft")});m.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var d=b(this),e=0,f=!1;(function H(b){g.currentTime.getMonth();d.hasClass(a.next)?g.nextMonth():d.hasClass(a.prev)&&g.prevMonth();!f&&(e=setTimeout(H,b?b:100))})(500);b([document.body,window]).on("mouseup.xdsoft",function n(){clearTimeout(e);f=!0;b([document.body,window]).off("mouseup.xdsoft",n)})});p.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var d=b(this),e=0,g=!1,f=110;(function n(b){var c=
s[0].clientHeight,m=q[0].offsetHeight,h=Math.abs(parseInt(q.css("marginTop")));d.hasClass(a.next)&&m-c-a.timeHeightInTimePicker>=h?q.css("marginTop","-"+(h+a.timeHeightInTimePicker)+"px"):d.hasClass(a.prev)&&0<=h-a.timeHeightInTimePicker&&q.css("marginTop","-"+(h-a.timeHeightInTimePicker)+"px");s.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(q.css("marginTop"))/(m-c))]);f=10<f?10:f-10;!g&&(e=setTimeout(n,b?b:f))})(500);b([document.body,window]).on("mouseup.xdsoft",function I(){clearTimeout(e);
g=!0;b([document.body,window]).off("mouseup.xdsoft",I)})});d.on("xchange.xdsoft",function(f){for(var e="",c=new Date(g.currentTime.getFullYear(),g.currentTime.getMonth(),1,12,0,0),h=0,k=g.now();c.getDay()!=a.dayOfWeekStart;)c.setDate(c.getDate()-1);for(var e=e+"<table><thead><tr>",n=0;7>n;n++)e+="<th>"+a.i18n[a.lang].dayOfWeek[6<n+a.dayOfWeekStart?0:n+a.dayOfWeekStart]+"</th>";var e=e+"</tr></thead><tbody><tr>",t=n=!1;!1!==a.maxDate&&(n=g.strtodate(a.maxDate),n=new Date(n.getFullYear(),n.getMonth(),
n.getDate(),23,59,59,999));!1!==a.minDate&&(t=g.strtodate(a.minDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()));for(var p,s,u,v=[];h<g.currentTime.getDaysInMonth()||c.getDay()!=a.dayOfWeekStart||g.currentTime.getMonth()==c.getMonth();)v=[],h++,p=c.getDate(),s=c.getFullYear(),u=c.getMonth(),v.push("xdsoft_date"),(!1!==n&&c>n||!1!==t&&c<t)&&v.push("xdsoft_disabled"),g.currentTime.getMonth()!=u&&v.push("xdsoft_other_month"),(a.defaultSelect||d.data("changed"))&&g.currentTime.dateFormat("d.m.Y")==
c.dateFormat("d.m.Y")&&v.push("xdsoft_current"),k.dateFormat("d.m.Y")==c.dateFormat("d.m.Y")&&v.push("xdsoft_today"),(0==c.getDay()||6==c.getDay()||~a.weekends.indexOf(c.dateFormat("d.m.Y")))&&v.push("xdsoft_weekend"),e+='<td data-date="'+p+'" data-month="'+u+'" data-year="'+s+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+v.join(" ")+'"><div>'+p+"</div></td>",c.getDay()==a.dayOfWeekStartPrev&&(e+="</tr>"),c.setDate(p+1);e+="</tbody></table>";r.html(e);m.find(".xdsoft_label span").eq(0).text(a.i18n[a.lang].months[g.currentTime.getMonth()]);
m.find(".xdsoft_label span").eq(1).text(g.currentTime.getFullYear());var w="";u=e="";c=function(b,e){var c=g.now();c.setHours(b);b=parseInt(c.getHours());c.setMinutes(e);e=parseInt(c.getMinutes());v=[];(!1!==a.maxTime&&g.strtotime(a.maxTime).getTime()<c.getTime()||!1!==a.minTime&&g.strtotime(a.minTime).getTime()>c.getTime())&&v.push("xdsoft_disabled");(a.defaultSelect||d.data("changed"))&&parseInt(g.currentTime.getHours())==parseInt(b)&&(59<a.step||Math[a.roundTime](g.currentTime.getMinutes()/a.step)*
a.step==parseInt(e))&&v.push("xdsoft_current");parseInt(k.getHours())==parseInt(b)&&parseInt(k.getMinutes())==parseInt(e)&&v.push("xdsoft_today");w+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+b+'" data-minute="'+e+'">'+c.dateFormat(a.formatTime)+"</div>"};if(a.allowTimes&&b.isArray(a.allowTimes)&&a.allowTimes.length)for(h=0;h<a.allowTimes.length;h++)e=g.strtotime(a.allowTimes[h]).getHours(),u=g.strtotime(a.allowTimes[h]).getMinutes(),c(e,u);else for(n=h=0;h<(a.hours12?12:24);h++)for(n=
0;60>n;n+=a.step)e=(10>h?"0":"")+h,u=(10>n?"0":"")+n,c(e,u);q.html(w);u="";h=0;for(h=parseInt(a.yearStart,10)+a.yearOffset;h<=parseInt(a.yearEnd,10)+a.yearOffset;h++)u+='<div class="xdsoft_option '+(g.currentTime.getFullYear()==h?"xdsoft_current":"")+'" data-value="'+h+'">'+h+"</div>";B.children().eq(0).html(u);h=0;for(u="";11>=h;h++)u+='<div class="xdsoft_option '+(g.currentTime.getMonth()==h?"xdsoft_current":"")+'" data-value="'+h+'">'+a.i18n[a.lang].months[h]+"</div>";A.children().eq(0).html(u);
b(this).trigger("generate.xdsoft");f.stopPropagation()}).on("afterOpen.xdsoft",function(){if(a.timepicker&&q.find(".xdsoft_current").length){var b=s[0].clientHeight,e=q[0].offsetHeight,d=q.find(".xdsoft_current").index()*a.timeHeightInTimePicker+1;e-b<d&&(d=e-b);q.css("marginTop","-"+parseInt(d)+"px");s.trigger("scroll_element.xdsoft_scroller",[parseInt(d)/(e-b)])}});var C=0;r.on("click.xdsoft","td",function(){C++;var f=b(this),e=g.currentTime;if(f.hasClass("xdsoft_disabled"))return!1;e.setFullYear(f.data("year"));
e.setMonth(f.data("month"));e.setDate(f.data("date"));d.trigger("select.xdsoft",[e]);c.val(g.str());(1<C||!0===a.closeOnDateSelect||0===a.closeOnDateSelect&&!a.timepicker)&&!a.inline&&d.trigger("close.xdsoft");a.onSelectDate&&a.onSelectDate.call&&a.onSelectDate.call(d,g.currentTime,d.data("input"));d.data("changed",!0);d.trigger("xchange.xdsoft");d.trigger("changedatetime.xdsoft");setTimeout(function(){C=0},200)});q.on("click.xdsoft","div",function(){var c=b(this),e=g.currentTime;if(c.hasClass("xdsoft_disabled"))return!1;
e.setHours(c.data("hour"));e.setMinutes(c.data("minute"));d.trigger("select.xdsoft",[e]);d.data("input").val(g.str());!a.inline&&d.trigger("close.xdsoft");a.onSelectTime&&a.onSelectTime.call&&a.onSelectTime.call(d,g.currentTime,d.data("input"));d.data("changed",!0);d.trigger("xchange.xdsoft");d.trigger("changedatetime.xdsoft")});d.mousewheel&&h.mousewheel(function(b,d,c,f){if(!a.scrollMonth)return!0;0>d?g.nextMonth():g.prevMonth();return!1});d.mousewheel&&s.unmousewheel().mousewheel(function(b,d,
c,f){if(!a.scrollTime)return!0;c=s[0].clientHeight;f=q[0].offsetHeight;var g=Math.abs(parseInt(q.css("marginTop"))),h=!0;0>d&&f-c-a.timeHeightInTimePicker>=g?(q.css("marginTop","-"+(g+a.timeHeightInTimePicker)+"px"),h=!1):0<d&&0<=g-a.timeHeightInTimePicker&&(q.css("marginTop","-"+(g-a.timeHeightInTimePicker)+"px"),h=!1);s.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(q.css("marginTop"))/(f-c))]);b.stopPropagation();return h});d.on("changedatetime.xdsoft",function(){a.onChangeDateTime&&
a.onChangeDateTime.call&&a.onChangeDateTime.call(d,g.currentTime,d.data("input"))}).on("generate.xdsoft",function(){a.onGenerate&&a.onGenerate.call&&a.onGenerate.call(d,g.currentTime,d.data("input"))});var x=0;c.mousewheel&&c.mousewheel(function(b,e,f,k){if(!a.scrollInput)return!0;if(!a.datepicker&&a.timepicker)return x=q.find(".xdsoft_current").length?q.find(".xdsoft_current").eq(0).index():0,0<=x+e&&x+e<q.children().length&&(x+=e),q.children().eq(x).length&&q.children().eq(x).trigger("mousedown"),
!1;if(a.datepicker&&!a.timepicker)return h.trigger(b,[e,f,k]),c.val&&c.val(g.str()),d.trigger("changedatetime.xdsoft"),!1});var D=function(){var a=d.data("input").offset(),e=a.top+d.data("input")[0].offsetHeight-1,c=a.left;e+d[0].offsetHeight>b(window).height()+b(window).scrollTop()&&(e=a.top-d[0].offsetHeight+1);c+d[0].offsetWidth>b(window).width()&&(c=a.left-d[0].offsetWidth+d.data("input")[0].offsetWidth);d.css({left:c,top:e})};d.on("open.xdsoft",function(){var c=!0;a.onShow&&a.onShow.call&&(c=
a.onShow.call(d,g.currentTime,d.data("input")));if(!1!==c&&(d.show(),d.trigger("afterOpen.xdsoft"),D(),b(window).off("resize.xdsoft",D).on("resize.xdsoft",D),a.closeOnWithoutClick))b([document.body,window]).on("mousedown.xdsoft",function G(){d.trigger("close.xdsoft");b([document.body,window]).off("mousedown.xdsoft",G)})}).on("close.xdsoft",function(b){var e=!0;a.onClose&&a.onClose.call&&(e=a.onClose.call(d,g.currentTime,d.data("input")));!1===e||a.opened||a.inline||d.hide();b.stopPropagation()}).data("input",
c);var E=0;d.data("xdsoft_datetime",g);d.setOptions(a);(f=a.value?a.value:c&&c.val&&c.val()?c.val():"")&&g.isValidDate(f=Date.parseDate(f,a.format))?d.data("changed",!0):f="";g.setCurrentTime(f?f:0);d.trigger("afterOpen.xdsoft");c.data("xdsoft_datetimepicker",d).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(a){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(clearTimeout(E),E=setTimeout(function(){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(g.setCurrentTime(c&&c.val&&
c.val()?c.val():0),d.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(a){a=a.which;switch(!0){case !!~[13].indexOf(a):return a=b("input:visible,textarea:visible"),d.trigger("close.xdsoft"),a.eq(a.index(this)+1).focus(),!1;case !!~[9].indexOf(a):return d.trigger("close.xdsoft"),!0}})};b(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(a){17==a.keyCode&&(k=!0)}).on("keyup.xdsoftctrl",function(a){17==a.keyCode&&(k=!1)});return this.each(function(){var c;
if(c=b(this).data("xdsoft_datetimepicker")){if("string"===b.type(h))switch(h){case "show":b(this).select().focus();c.trigger("open.xdsoft");break;case "hide":c.trigger("close.xdsoft");break;case "destroy":c=b(this);var d=c.data("xdsoft_datetimepicker");d&&(d.data("xdsoft_datetime",null),d.remove(),c.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),b(window).off("resize.xdsoft"),b([window,document.body]).off("mousedown.xdsoft"),
c.unmousewheel&&c.unmousewheel());break;case "reset":(this.value=this.defaultValue)&&c.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,a.format))||c.data("changed",!1),c.data("xdsoft_datetime").setCurrentTime(this.value)}else c.setOptions(h);return 0}"string"!==b.type(h)&&r(b(this))})}})(jQuery);Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(b){null==Date.formatFunctions[b]&&Date.createNewFormat(b);return this[Date.formatFunctions[b]]()};
Date.createNewFormat=function(b){var f="format"+Date.formatFunctions.count++;Date.formatFunctions[b]=f;for(var f="Date.prototype."+f+" = function() {return ",h=!1,k="",a=0;a<b.length;++a)k=b.charAt(a),h||"\\"!=k?h?(h=!1,f+="'"+String.escape(k)+"' + "):f+=Date.getFormatCode(k):h=!0;eval(f.substring(0,f.length-3)+";}")};
Date.getFormatCode=function(b){switch(b){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(b)+"' + "}};
Date.parseDate=function(b,f){null==Date.parseFunctions[f]&&Date.createParser(f);return Date[Date.parseFunctions[f]](b)};
Date.createParser=function(b){var f="parse"+Date.parseFunctions.count++,h=Date.parseRegexes.length,k=1;Date.parseFunctions[b]=f;for(var f="Date."+f+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+h+"]);\nif (results && results.length > 0) {",a="",r=!1,c="",d=0;d<b.length;++d)c=b.charAt(d),r||"\\"!=c?r?(r=!1,a+=String.escape(c)):(obj=Date.formatCodeToRegex(c,
k),k+=obj.g,a+=obj.s,obj.g&&obj.c&&(f+=obj.c)):r=!0;Date.parseRegexes[h]=RegExp("^"+a+"$");eval(f+"if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}")};
Date.formatCodeToRegex=function(b,f){switch(b){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d = parseInt(results["+f+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:0,c:null,s:"(?:\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+f+"].substring(0, 3)], 10);\n",
s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+f+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m = parseInt(results["+f+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y = parseInt(results["+f+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty = parseInt(results["+f+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+f+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+f+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h = parseInt(results["+f+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,c:"i = parseInt(results["+f+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s = parseInt(results["+f+"], 10);\n",
s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(b)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var b=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var f=0;f<this.getMonth();++f)b+=Date.daysInMonth[f];return b+this.getDate()-1};
Date.prototype.getWeekOfYear=function(){var b=this.getDayOfYear()+(4-this.getDay()),f=7-(new Date(this.getFullYear(),0,1)).getDay()+4;document.write(f);return String.leftPad((b-f)/7+1,2,"0")};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return 0==(b&3)&&(b%100||0==b%400&&b)};Date.prototype.getFirstDayOfMonth=function(){var b=(this.getDay()-(this.getDate()-1))%7;return 0>b?b+7:b};
Date.prototype.getLastDayOfMonth=function(){var b=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>b?b+7:b};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(b){return b.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(b,f,h){b=new String(b);for(null==h&&(h=" ");b.length<f;)b=h+b;return b};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames="January February March April May June July August September October November December".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function f(d){var c=d||window.event,f=[].slice.call(arguments,1),h=0,k=0,p=0,s=0,s=0;d=b.event.fix(c);d.type="mousewheel";c.wheelDelta&&(h=c.wheelDelta);c.detail&&(h=-1*c.detail);c.deltaY&&(h=p=-1*c.deltaY);c.deltaX&&(k=c.deltaX,h=-1*k);void 0!==c.wheelDeltaY&&(p=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(k=-1*c.wheelDeltaX);s=Math.abs(h);if(!a||s<a)a=s;s=Math.max(Math.abs(p),
Math.abs(k));if(!r||s<r)r=s;c=0<h?"floor":"ceil";h=Math[c](h/a);k=Math[c](k/r);p=Math[c](p/r);f.unshift(d,h,k,p);return(b.event.dispatch||b.event.handle).apply(this,f)}var h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a,r;if(b.event.fixHooks)for(var c=h.length;c;)b.event.fixHooks[h[--c]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=
k.length;a;)this.addEventListener(k[--a],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var a=k.length;a;)this.removeEventListener(k[--a],f,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});